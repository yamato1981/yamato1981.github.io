if (self.CavalryLogger) { CavalryLogger.start_js(["rftRT"]); }

__d('UFIFeedbackContext.react',['React','UFICentralUpdates','UFIFeedbackTargets'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={contextArgs:this.props.contextArgs,feedback:null},this.$UFIFeedbackContext1=null,this.loadFeedbackTarget=function(q){if(!this.$UFIFeedbackContext1)this.$UFIFeedbackContext1=c('UFIFeedbackTargets').getFeedbackTarget(q,function(r){this.$UFIFeedbackContext2=null;this.setState({feedback:r});}.bind(this));}.bind(this),m;}k.prototype.componentDidMount=function(){this.loadFeedbackTarget(this.state.contextArgs.ftentidentifier);this.ufiCentralUpdatesSubscriptions=[c('UFICentralUpdates').subscribe('instance-updated',function(l,m){var n=this.state.contextArgs;if(n.instanceid in m.updates)this.loadFeedbackTarget(n.ftentidentifier);}.bind(this)),c('UFICentralUpdates').subscribe('feedback-updated',function(l,m){var n=this.state.contextArgs;if(n.ftentidentifier in m.updates)this.loadFeedbackTarget(n.ftentidentifier);}.bind(this))];};k.prototype.componentWillUnmount=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(l){return l&&c('UFICentralUpdates').unsubscribe(l);});if(this.$UFIFeedbackContext1)c('UFIFeedbackTargets').unsubscribe(this.$UFIFeedbackContext1);};k.prototype.render=function(){if(this.state.feedback)return this.props.render(this.state.contextArgs,this.state.feedback);return null;};k.propTypes={contextArgs:j.object.isRequired,render:j.func.isRequired};k.contextTypes={stores:j.object};f.exports=k;}),null);
__d('UFIAddCommentController',['Parent','React','ReactDOM','UFIActionTypes','UFIAddComment.react','UFICallbackStore','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIInstanceState','UFINewCommentNotifier'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.factory=function(i,j){j.rootid=i.id;return new h(i,Object.freeze(j));};function h(i,j){this.$UFIAddCommentController1=i;this.$UFIAddCommentController2=j;this.$UFIAddCommentController3=new (c('UFIDispatcher'))();this.$UFIAddCommentController4={UFICallbackStore:new (c('UFICallbackStore'))(this.$UFIAddCommentController3)};this.$UFIAddCommentController4.UFICallbackStore.on(c('UFIActionTypes').ADD_COMMENT.SUBMIT_NEW,function(k){return c('UFINewCommentNotifier').onNewComment(c('Parent').byTag(i,'form'),this.$UFIAddCommentController2,k.comment,k.target,k.replyCommentID,k.timestamp);}.bind(this));this.render();}h.prototype.render=function(){var i=c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIAddCommentController3,stores:this.$UFIAddCommentController4},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.$UFIAddCommentController2,render:this.renderAddComment}));c('ReactDOM').render(i,this.$UFIAddCommentController1);};h.prototype.renderAddComment=function(i,j){var k=c('UFIInstanceState').getKeyForInstance(i.instanceid,'isediting');if(k||!j||!j.cancomment||!j.actorforpost)return null;return (c('React').createElement(c('UFIAddComment.react'),{viewerActorID:j.actorforpost,replyCommentID:null,targetID:j.ownerid,initialData:null,ref:null,withoutSeparator:null,editingComment:{},isEditing:false,mentionsDataSource:j.mentionsdatasource,showSendOnEnterTip:j.showsendonentertip,multiCompanyGroupsCount:j.multicompanygroupscount,allowPhotoAttachments:j.allowphotoattachments&&!i.islivestreaming,allowVideoAttachments:j.allowvideoattachments&&!i.islivestreaming,allowStickerAttachments:j.allowstickerattachments&&!i.islivestreaming,allowGifAttachments:j.allowgifattachments&&!i.islivestreaming,allowTipJar:j.istipjarenabled&&i.islivestreaming,contextArgs:i,subtitle:j.subtitle,isQAndA:j.isqanda}));};h.prototype.disable=function(){this.$UFIAddCommentController4.UFICallbackStore.remove();};f.exports=h;}),null);
__d('EmbeddedVideoAPIComponent',['Arbiter','SubscriptionsHandler','XD','VideoPlayerReason'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XD').UnverifiedXD;function i(j){'use strict';this.$EmbeddedVideoAPIComponent1=j;this.$EmbeddedVideoAPIComponent2=new (c('SubscriptionsHandler'))();this.$EmbeddedVideoAPIComponent3={playing:'startedPlaying',paused:'paused',finished:'finishedPlaying',buffering:'startedBuffering',buffered:'finishedBuffering',error:'error'};this.$EmbeddedVideoAPIComponent2.addSubscriptions(c('Arbiter').subscribe('Connect.Unsafe.play',function(){this.$EmbeddedVideoAPIComponent1.play(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.pause',function(){this.$EmbeddedVideoAPIComponent1.pause(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.seek',function(l,m){this.$EmbeddedVideoAPIComponent1.seek(m.target);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.mute',function(){this.$EmbeddedVideoAPIComponent1.mute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.unmute',function(){this.$EmbeddedVideoAPIComponent1.unmute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.setVolume',function(l,m){this.$EmbeddedVideoAPIComponent1.setVolume(m.volume);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('stateChange',function(){if(this.$EmbeddedVideoAPIComponent1.isState('ready')){var l={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(l);}else if(this.$EmbeddedVideoAPIComponent1.isState('playing')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.playing);}else if(this.$EmbeddedVideoAPIComponent1.isState('paused')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.paused);}else if(this.$EmbeddedVideoAPIComponent1.isState('finished'))this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.finished);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateStatus',function(l){if(l.position!==undefined){var m={timePosition:l.position};this.sendStateDataForUpdateToSDK(m);}}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffering',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffering);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffered',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffered);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('error',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.error);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateMetadata',function(l){var m={duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendStateDataForUpdateToSDK(m);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('muteVideo',function(){var l={isMuted:true};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('unmuteVideo',function(){var l={isMuted:false};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('changeVolume',function(l){var m={volume:l.volume,isMuted:l.volume===0};this.sendStateDataForUpdateToSDK(m);}.bind(this)));if(!this.$EmbeddedVideoAPIComponent1.isState('loading')&&!this.$EmbeddedVideoAPIComponent1.isState('fallback')){var k={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(k);}}i.prototype.sendVideoAPIReady=function(j){'use strict';h.send({type:'onVideoAPIReady',data:JSON.stringify(j)});};i.prototype.sendEventToSDK=function(event){'use strict';h.send({type:'stateChange',state:event});};i.prototype.sendStateDataForUpdateToSDK=function(j){'use strict';h.send({type:'cachedStateUpdateRequest',data:JSON.stringify(j)});};f.exports=i;}),null);
__d('VideoErrorOverlay',['cx','CSS','VideoPlayerLoggerEvent','VideoPlayerStates'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(l,m){if('textContent' in l)l.textContent=m;l.innerText=m;}function j(l){if('textContent' in l)return l.textContent;if(!l.innerText)return '';return l.innerText;}function k(l,m,n,o,p){var q;'use strict';this.$VideoErrorOverlay1=m;this.$VideoErrorOverlay2=n;this.$VideoErrorOverlay3=o;l.registerOption('VideoErrorOverlay','title',function(){return this.getTitle();}.bind(this),function(r){return this.setTitle(r);}.bind(this));l.registerOption('VideoErrorOverlay','message',function(){return this.getMessage();}.bind(this),function(r){return this.setMessage(r);}.bind(this));l.registerOption('VideoErrorOverlay','linkURL',function(){return this.getLinkURL();}.bind(this),function(r){return this.setLinkURL(r);}.bind(this));l.registerOption('VideoErrorOverlay','linkTitle',function(){return this.getLinkTitle();}.bind(this),function(r){return this.setLinkTitle(r);}.bind(this));l.registerOption('VideoErrorOverlay','available',function(){return true;});if(p)(function(){var r,s=p.fallbackUriList,t=function u(){var v=l.addListener('stateChange',function(){if(l.isState(c('VideoPlayerStates').PLAYING)){l.logEvent(c('VideoPlayerLoggerEvent').SPHERICAL_FALLBACK_ENTERED);v.remove();}});l.setFallbackSources(s);c('CSS').removeClass(l.getRootNode(),"_3-n5");l.reset();};if(l.isState(c('VideoPlayerStates').FALLBACK)){t();}else (function(){var u=l.addListener('stateChange',function(){if(l.isState(c('VideoPlayerStates').FALLBACK)){t();u.remove();}});})();})();}k.prototype.getTitle=function(){'use strict';return this.$VideoErrorOverlay1?j(this.$VideoErrorOverlay1):'';};k.prototype.setTitle=function(l){'use strict';if(this.$VideoErrorOverlay1)i(this.$VideoErrorOverlay1,l);};k.prototype.getMessage=function(){'use strict';return j(this.$VideoErrorOverlay2);};k.prototype.setMessage=function(l){'use strict';i(this.$VideoErrorOverlay2,l);};k.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};k.prototype.setLinkURL=function(l){'use strict';this.$VideoErrorOverlay3.href=l;};k.prototype.getLinkTitle=function(){'use strict';return j(this.$VideoErrorOverlay3);};k.prototype.setLinkTitle=function(l){'use strict';i(this.$VideoErrorOverlay3,l);};f.exports=k;}),null);