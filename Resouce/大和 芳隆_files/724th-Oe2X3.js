if (self.CavalryLogger) { CavalryLogger.start_js(["XmPHW"]); }

__d("ComposerEntryPointRef",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FEED:"feed",FEED_INLINE:"feed_inline",SPROUTS:"sprouts",TIMELINE:"timeline",NATIVE_PERMALINK:"native_permalink",EVENT:"event",EVENT_ALL_MEDIA:"event_all_media",EVENT_PHOTOS:"event_photos",EVENT_VIDEOS:"event_videos",EVENT_WALL:"event_wall",EVENT_ABOUT:"event_about",GROUP:"group",NATIVE_GROUP:"native_group",NATIVE_PAGE:"native_page",PAGES_MANAGER:"pages_manager",FINCH_PAGE_CHECKIN:"finch_page_checkin",PLACES_NEARBY_FRIENDS:"places_nearby_friends",PLACES_SEARCH_FAILURE:"places_search_failure",FEED_STORY:"feed_story",PHOTOS_DASHBOARD:"photos_dashboard",PHOTOS_TAB_TIMELINE:"photos_tab_timeline",ADD_PHOTO_IN_TIMELINE_TAB:"add_photo_in_timeline_tab",ADD_PHOTO_IN_ALBUM:"add_photo_in_album",ADD_PHOTO_IN_PHOTOS_SECTION:"add_photo_in_photos_section",PHOTOS_ALBUM:"photos_album",PHOTOS_ALBUM_LISTING:"photos_album_listing",CREATE_COUPON_DIALOG:"create_coupon_dialog",SOCIAL_PLUGIN:"social_plugin",PLATFORM_DIALOG:"platform_dialog",SHARE_BUTTON_PLUGIN:"share_button",PAGE_PLUGIN:"page",ADS_CREATE:"ads_create",ADS_POWER_EDITOR:"ads_power_editor",TOPIC_HASHTAG_FEED:"topic_hashtag_feed",PERMALINK:"permalink",EDIT_DIALOG:"edit_dialog",EDIT_COMPOSER:"edit_composer",PAGES_FEED:"pages_feed",PAGES_PHOTO_TAB:"pages_photo_tab",PAGES_VIDEO_TAB:"pages_video_tab",PAGES_VIDEO_TAB_HUB:"pages_video_tab_hub",PAGE_TIPS:"page_tips",AGGREGATED_LINK_STORY:"aggregated_link_story",FEED_STICKY_COMPOSER:"feed_sticky_composer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",WIFI_CHECKIN:"wifi_checkin",HOVERCARD_CONICS:"hovercard_conics",AGGREGATED_STORY:"aggregated_story",YEAR_IN_REVIEW:"year_in_review",ORIGIN_STORY:"origin_story",CELEBRATE_FRIENDS:"celebrate_friends",MEGAPHONE:"megaphone",MOMENTS:"moments",LIVE:"live",LIVE_BROADCAST:"live_broadcast",LIVE_MAP:"live_map",TOPIC_STORY_ACTION_LINK:"topic_story_action_link",OTHER:"other",TRENDING_TOPIC:"trending_topic",UC_TOOLBAR:"uc_toolbar",PAGE_CONTENT_TAB_DRAFTS:"page_content_tab_drafts",PAGE_LAUNCH_POINT:"page_launch_point",PAGE_CONTENT_TAB_PUBLISHED_POSTS:"page_content_tab_published_posts",PAGE_CONTENT_TAB_SCHEDULED_POSTS:"page_content_tab_scheduled_posts",PAGE_CONTENT_TAB_ADS_POSTS:"page_content_tab_ads_posts",PAGE_CONTNET_TAB_JOB_POSTS:"page_contet_tab_job_posts",PAGE_CONTENT_TAB_VIDEO_LIBRARY:"page_content_tab_video_library",PAGE_CONTENT_TAB_CANVAS:"page_content_tab_canvas",PAGE_CONTENT_TAB_REFERENCE_LIBRARY:"page_content_tab_reference_library",REVIEW_UNIT:"review_unit",REVIEWS_LIST:"reviews_list",CHECKIN_STORY:"checkin_story",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",BULK_UPLOAD:"bulk_upload",REFERENCE_VIDEO_BULK_UPLOAD:"reference_video_bulk_upload",SAHELI:"saheli",GAMEFACE:"gameface",GAMETIME:"gametime",ANNIVERSARY_VIDEO:"anniversary_video",FRIENDS_DAY:"friends_day_2016",FRIENDVERSARY:"FRIENDVERSARY",PRIVACY_CHECKUP:"privacy_checkup",FEEDX:"feedx",FEED_SPROUTS:"feed_sprouts",FEEDX_SPROUTS:"feedx_sprouts",LEGACY_FEED:"legacy_feed",REACTION:"reaction",FLASHBACK:"flashback",INSIGHTS_POST_SPONSORED_TABLE:"insights_post_sponsored_table",VOTER_REGISTRATION:"voter_registration",ISSUE_MODULE:"issue_module",ENDORSEMENT_MODULE:"endorsement_module",COMPOSER_PREFILL:"composer_prefill",MTOUCH_LOCAL_SERP:"mtouch_local_serp",RED_ENVELOPE_POST:"red_envelope_post",FUNDRAISER_PAGE:"fundraiser_page",OFFERS_COMPOSER:"offers_composer",RESHARE_DIALOG:"reshare_dialog",POLITICAL_ISSUE:"political_issue",POLITICAL_ENDORSEMENT:"political_endorsement",PROFILE_PIC_CHANGE_DIALOG:"profile_pic_change_dialog",PROFILE_VIDEO:"profile_video",PRODUCT_TAG_UPSELL:"product_tag_upsell",PUBLISH_FRAME_DIALOG:"publish_frame_dialog",AYMT:"aymt",SW_BG_SYNC:"sw_bg_sync",FEED_INSPIRATIONS:"feed_inspirations",INSPIRATIONS:"inspirations",WORK_FEED:"work_feed",DEVELOPER_SITE:"developer_site",RECENT_POSTS:"timeline\/recent_posts"};}),null);
__d("ReactComposerAttachmentType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MLE:"MLE",LIFE_EVENT:"LIFE_EVENT",NOTES:"NOTES",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",SELL:"SELL",WORK_HEADER:"WORK_HEADER",RED_ENVELOPE:"RED_ENVELOPE",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",PLACE_LIST:"PLACE_LIST"};}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DATE:"date",EVENT:"event",FILE:"file",LIFE_EVENT:"life_event",LINK:"link",LOCATION:"location",MARKDOWN:"markdown",MEDIA:"media",MENTION_TAG:"mention_tag",MILESTONE:"milestone",MINUTIAE:"minutiae",NOTE:"note",OFFER:"offer",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",PRODUCT:"product",SELL:"sell",SPONSOR:"sponsor",TEXT:"text",WITH_TAG:"with_tag"};}),null);
__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAGGER:"backdate_tagger",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu\/edit_post",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",DELETE_POST_EDIT_BUTTON:"delete_post_dialog\/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_TAB_SELECTOR:"file_tab_selector",FRIEND_TAG_SPROUT:"friend_tag_sprout",GAME_TAB_SELECTOR:"game_tab_selector",INLINE_COMPOSER:"inline_composer",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PRODUCT_TAGGER:"product_tagger",PROMPT:"prompt",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RED_ENVELOPE_TAB_SELECTOR:"red_envelope_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu\/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu\/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu\/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu\/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu\/write_post",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",TAGGER_SUMMARY_LOCATION:"tagger_summary_row\/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row\/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row\/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TARGETING_TAGGER:"targeting_tagger",OTHERS:"others"};}),null);
__d("TranslationRating",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNDEFINED:0,VERY_BAD:1,BAD:2,OK:3,GOOD:4,VERY_GOOD:5};}),null);
__d("TranslationTrigger",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SEE_TRANSLATION:"see_translation",AUTO_TRANSLATION:"auto_translation",SEE_CONVERSION:"see_conversion",TRANSLATE_ALL:"translate_all",LOGGED_OUT_AUTO_TRANSLATION:"logged_out_auto_translation",NONE:"none"};}),null);
__d("UFIActionTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INSTANCE:{CHANGE_ORDER_MODE:"story_change_order_mode",CHANGE_VISIBILITY:"story_change_visibility",INIT:"instance_init",RECEIVED_VOD_COMMENTS:"received_vod_comments",REMOVE:"story_remove",REQUESTED_VOD_COMMENTS:"requested_vod_comments",TOGGLE_COMMENTS:"story_toggle_comments",TRANSLATE_ALL:"translate_all"},STORY:{COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment"},ADD_COMMENT:{CANCEL:"add_comment_cancel",RETRY_SUBMIT:"add_comment_retry_submit",SUBMIT_EDIT:"add_comment_submit_edit",SUBMIT_NEW:"add_comment_submit_new",TYPING_CHANGE:"add_comment_typing_change"},COMMENT:{CHANGE_REACTION:"comment_change_reaction",CHANGE_VISIBILITY:"comment_change_visibility",EDIT:"comment_edit",EMBED:"embed",HIDE_CONSTITUENT_TITLE:"comment_hide_constituent_title",MOUNTED:"comment_mounted",REMOVE:"comment_remove",REMOVE_PREVIEW:"comment_remove_preview",SHOW_CONSTITUENT_TITLE:"comment_show_constituent_title",TOGGLE_INLINE_BAN:"comment_toggle_inline_ban",TOGGLE_LIKE:"comment_toggle_like",TOGGLE_MARK_AS_SPAM:"comment_toggle_mark_as_spam",TRANSLATE:"comment_translate",TRANSLATE_ARRAY:"comment_translate_array",UNMOUNTED:"comment_unmounted"}};}),null);
__d("UFILikeWebDriverIDs",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LIKE_LINK:"fb-ufi-likelink",UNLIKE_LINK:"fb-ufi-unlikelink"};}),null);
__d('UFICommentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:UFICommentLoggerConfig',this.$UFICommentTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$UFICommentTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$UFICommentTypedLogger1=babelHelpers['extends']({},this.$UFICommentTypedLogger1,j);return this;};h.prototype.setDuration=function(j){this.$UFICommentTypedLogger1.duration=j;return this;};h.prototype.setEvent=function(j){this.$UFICommentTypedLogger1.event=j;return this;};h.prototype.setHasPhoto=function(j){this.$UFICommentTypedLogger1.has_photo=j;return this;};h.prototype.setHasSticker=function(j){this.$UFICommentTypedLogger1.has_sticker=j;return this;};h.prototype.setIsReply=function(j){this.$UFICommentTypedLogger1.is_reply=j;return this;};h.prototype.setRequestLength=function(j){this.$UFICommentTypedLogger1.request_length=j;return this;};h.prototype.setVC=function(j){this.$UFICommentTypedLogger1.vc=j;return this;};var i={duration:true,event:true,has_photo:true,has_sticker:true,is_reply:true,request_length:true,vc:true};f.exports=h;}),null);
__d('UFICommentLogger',['UFICommentTypedLogger'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$UFICommentLogger1={};this.$UFICommentLogger2={};}h.prototype.logNewCommentPost=function(i,j,k){this.$UFICommentLogger2[i]=babelHelpers['extends']({timestamp:j},k);new (c('UFICommentTypedLogger'))().setEvent('new_comment_post').setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log();};h.prototype.logNewCommentReceived=function(i,j){var k=this.$UFICommentLogger2[i];if(k){var l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('new_comment_received').setDuration(l).setHasPhoto(k.has_photo).setHasSticker(k.has_sticker).setIsReply(k.is_reply).log();}delete this.$UFICommentLogger2[i];};h.prototype.logCommentFetch=function(i,j,k){var l=babelHelpers['extends']({timestamp:j},k);if(this.$UFICommentLogger1[i]===undefined){this.$UFICommentLogger1[i]=[l];}else this.$UFICommentLogger1[i].push(l);new (c('UFICommentTypedLogger'))().setEvent('fetch_comment').setIsReply(k.is_reply).setRequestLength(k.request_length).log();};h.prototype.logCommentFetchReceived=function(i,j){if(this.$UFICommentLogger1[i]){var k=this.$UFICommentLogger1[i].shift(),l=0;if(j&&k.timestamp)l=j-k.timestamp;new (c('UFICommentTypedLogger'))().setEvent('fetch_comment_received').setDuration(l).setIsReply(k.is_reply).setRequestLength(k.request_length).log();if(this.$UFICommentLogger1[i].length===0)delete this.$UFICommentLogger1[i];}};f.exports=new h();}),null);
__d('UFIDispatcherBase',['invariant','ReactDispatcher_DEPRECATED','UFIActionTypes'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();function k(n,o){return Object.values(o).indexOf(n)>=0;}function l(n,o,p){!n[o]?h(0):void 0;}i=babelHelpers.inherits(m,c('ReactDispatcher_DEPRECATED'));j=i&&i.prototype;m.prototype.dispatch=function(n){'use strict';l(n,'instanceID','contextArgs.instanceid');l(n,'ftentidentifier','contextArgs.ftentidentifier');if(k(n.type,c('UFIActionTypes').COMMENT))l(n,'fbid','comment.fbid');j.dispatch.call(this,n);};function m(){'use strict';i.apply(this,arguments);}f.exports=new m();}),null);
__d('UFIComments',['invariant','ClientIDs','ImmutableObject','LiveWWWFeedbackTypedLogger','UFICentralUpdates','UFIConstants','UFIInstanceState','randomInt'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={},j={};function k(ba){return ba in j?j[ba]:ba;}function l(ba,ca){ba.forEach(function(da){var ea=da.ftentidentifier,fa=c('UFIConstants').UFIPayloadSourceType,ga=da.clientid,ha=false,ia=babelHelpers['extends']({},da);if(ga){delete ia.clientid;ha=c('ClientIDs').isExistingClientID(ga);if(ha&&j[ga]){new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment').setOriginatedLocally(true).setCommentID(da.id).log();return;}}if(ca===fa.LIVE_SEND||ca===c('UFIConstants').UFIPayloadSourceType.STREAMING||ca===fa.USER_ACTION||ca===fa.ENDPOINT_ADD_COMMENT||ca===fa.ENDPOINT_EDIT_COMMENT)ia.isunseen=true;if(ca===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ca===c('UFIConstants').UFIPayloadSourceType.STREAMING)ia.islive=true;if(ca===fa.ENDPOINT_COMMENT_FETCH||ca===fa.ENDPOINT_ID_COMMENT_FETCH)ia.fromfetch=true;if(ha&&i[ga]){if(i[ga].ufiinstanceid)c('UFIInstanceState').updateStateField(i[ga].ufiinstanceid,'locallycomposed',da.id,true);ia.ufiinstanceid=i[ga].ufiinstanceid;j[ga]=da.id;i[da.id]=i[ga];delete i[ga];c('UFICentralUpdates').didUpdateComment(ga);}aa.setComment(da.id,new (c('ImmutableObject'))(ia));c('UFICentralUpdates').didUpdateComment(da.id);c('UFICentralUpdates').didUpdateFeedback(ea);});}function m(ba,ca){for(var da=0;da<ba.length;da++){var ea=ba[da];switch(ea.actiontype){case c('UFIConstants').UFIActionType.LIKE_ACTION:if(aa.getComment(ea.entidentifier))n(ea.clientid,ea.entidentifier,ea.hasviewerliked,ea.likecount,ea.reactiondata,ca);break;case c('UFIConstants').UFIActionType.COMMENT_LIKE:n(ea.clientid,ea.commentid,ea.viewerliked,ea.likecount,ea.reactiondata,ca);break;case c('UFIConstants').UFIActionType.COMMENT_REACTION:o(ea);break;case c('UFIConstants').UFIActionType.DELETE_COMMENT:s(ea);break;case c('UFIConstants').UFIActionType.LIVE_DELETE_COMMENT:t(ea);break;case c('UFIConstants').UFIActionType.REMOVE_PREVIEW:u(ea);break;case c('UFIConstants').UFIActionType.COMMENT_SET_SPAM:v(ea);break;case c('UFIConstants').UFIActionType.CONFIRM_COMMENT_REMOVAL:w(ea);break;case c('UFIConstants').UFIActionType.TRANSLATE_COMMENT:q(ea);break;case c('UFIConstants').UFIActionType.COMMENT_LIKECOUNT_UPDATE:p(ea);break;case c('UFIConstants').UFIActionType.UPDATE_CONSTITUENT_TITLE:y(ea);break;}}}function n(ba,ca,da,ea,fa,ga){var ha=aa.getComment(ca);if(ha){var ia={},ja=ba&&c('ClientIDs').isExistingClientID(ba);if(!ja){ia.hasviewerliked=da;ia.likecount=ea;if(fa){ia.reactioncount=fa.reactioncount;ia.reactioncountmap=fa.reactioncountmap;ia.reactioncountreduced=fa.reactioncountreduced;ia.viewerreaction=fa.viewerreaction;}}if(ga===c('UFIConstants').UFIPayloadSourceType.LIVE_SEND||ga===c('UFIConstants').UFIPayloadSourceType.STREAMING)new (c('LiveWWWFeedbackTypedLogger'))().setEvent('update_view').setUpdateType('comment_like').setOriginatedLocally(ja).setCommentID(ca).log();ia.likeconfirmhash=c('randomInt')(0,1024);z(ca,ia);}}function o(ba){var ca=aa.getComment(ba.commentid);if(ca){var da={};if(ba.clientid&&c('ClientIDs').isExistingClientID(ba.clientid)&&ba.viewerreaction!==ca.viewerreaction)return;da.hasviewerliked=ba.hasviewerliked;da.likecount=ba.likecount;da.reactioncount=ba.reactioncount;da.reactioncountmap=ba.reactioncountmap;da.reactioncountreduced=ba.reactioncountreduced;da.viewerreaction=ba.viewerreaction;z(ba.commentid,da);}}function p(ba){var ca=aa.getComment(ba.commentid);if(ca&&ba.hasviewerliked===ca.hasviewerliked){var da={likecount:ba.likecount,likeconfirmhash:c('randomInt')(0,1024)};z(ba.commentid,da);}}function q(ba){var ca=ba.commentid,da=aa.getComment(ca);if(da){var ea={translationdata:ba.translationdata};z(ca,ea);}}function r(ba){var ca={reportLink:ba.reportLink,commenterIsFOF:ba.commenterIsFOF,userIsMinor:ba.userIsMinor,giveFeedbackLink:ba.giveFeedbackLink,reportGroupAdminLink:ba.reportGroupAdminLink};return ca;}function s(ba){var ca=aa.getComment(ba.commentid);x(ca,c('UFIConstants').UFIStatus.DELETED);}function t(ba){var ca=aa.getComment(ba.commentid);if(ca&&ca.status!==c('UFIConstants').UFIStatus.DELETED)x(ca,c('UFIConstants').UFIStatus.LIVE_DELETED);}function u(ba){z(ba.commentid,{attachment:null});}function v(ba){var ca=aa.getComment(ba.commentid),da=ba.shouldHideAsSpam?c('UFIConstants').UFIStatus.SPAM_DISPLAY:null;x(ca,da);}function w(ba){z(ba.commentid,r(ba));}function x(ba,ca){z(ba.id,{priorstatus:ba.status,status:ca});}function y(ba){var ca=aa.getComment(ba.commentid);if(ca){var da={constituentTitle:ba.constituentTitle};z(ba.commentid,da);}}function z(ba,ca){var da=aa.getComment(ba)||new (c('ImmutableObject'))({});aa.setComment(ba,c('ImmutableObject').set(da,ca));c('UFICentralUpdates').didUpdateComment(da.id);c('UFICentralUpdates').didUpdateFeedback(da.ftentidentifier);}var aa={getComment:function ba(ca){if(ca===c('UFIConstants').unavailableCommentKey)return null;return i[k(ca)];},setComment:function ba(ca,da){!(da instanceof c('ImmutableObject'))?h(0):void 0;i[k(ca)]=da;},resetComments:function ba(ca){for(var da in ca)delete i[k(da)];},getCommentsForFTEntIdentifier:function ba(ca){return Object.values(i).filter(function(da){return da.ftentidentifier==ca;});}};c('UFICentralUpdates').subscribe('update-comments',function(ba,ca){if(ca.comments&&ca.comments.length)l(ca.comments,ca.payloadsource);if(ca.pinnedcomments&&ca.pinnedcomments.length)l(ca.pinnedcomments,ca.payloadsource);});c('UFICentralUpdates').subscribe('update-actions',function(ba,ca){if(ca.actions&&ca.actions.length)m(ca.actions,ca.payloadsource);});f.exports=aa;}),6);
__d('UFIVisibility',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={VISIBLE:'visible',HIDDEN:'hidden'};f.exports=h;}),null);
__d('UFICommentVisibilityStore',['invariant','FluxReduceStore','UFIActionTypes','UFIComments','UFIRootRegistry','UFIDispatcherBase','UFIVisibility','filterObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();function k(p,q){if(q)return p+'-'+q;return p;}function l(p,q){return p===q||p.startsWith(q+'-');}function m(p){var q=c('UFIRootRegistry').getInstanceIDFromFTEntIdentifier(p);return q?q:[];}function n(p){return {instanceid:p};}i=babelHelpers.inherits(o,c('FluxReduceStore'));j=i&&i.prototype;o.prototype.getInitialState=function(){return {};};o.prototype.getVisibility=function(p,q){var r=arguments.length<=2||arguments[2]===undefined?null:arguments[2],s=r?k(q.instanceid,r.fbid):k(q.instanceid);if(p.hasOwnProperty(s))return p[s];return c('UFIVisibility').HIDDEN;};o.prototype.$UFICommentVisibilityStore1=function(p){var q=n(p);return (this.getVisibility(this.getState(),q)===c('UFIVisibility').VISIBLE);};o.prototype.isFeedbackTargetVisible=function(p){var q=m(p);return q.some(function(r){return this.$UFICommentVisibilityStore1(r);}.bind(this));};o.prototype.reduce=function(p,q){var r,s;switch(q.type){case c('UFIActionTypes').COMMENT.UNMOUNTED:var t=babelHelpers['extends']({},p);delete t[k(q.instanceID,q.fbid)];return t;case c('UFIActionTypes').COMMENT.CHANGE_VISIBILITY:return babelHelpers['extends']({},p,(r={},r[k(q.instanceID,q.fbid)]=q.visibility,r));case c('UFIActionTypes').INSTANCE.CHANGE_VISIBILITY:var u=c('UFIRootRegistry').getFTEntIdentifierFromInstanceID(q.instanceID),v=c('UFIComments').getCommentsForFTEntIdentifier(u),w=v.reduce(function(z,aa){!(q.type===c('UFIActionTypes').INSTANCE.CHANGE_VISIBILITY)?h(0):void 0;z[k(q.instanceID,aa.fbid)]=q.visibility;return z;},{});return babelHelpers['extends']({},p,(s={},s[k(q.instanceID)]=q.visibility,s),w);case c('UFIActionTypes').INSTANCE.REMOVE:var x=q.instanceID,y=k(x);return c('filterObject')(p,function(z,aa){return (aa!==y&&!l(aa,x));});}return p;};function o(){i.apply(this,arguments);}f.exports=new o(c('UFIDispatcherBase'));}),null);
__d('UFIFeedbackStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('UFIActionTypes').INSTANCE;h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return {};};k.prototype.reduce=function(l,m){var n;switch(m.type){case j.INIT:var o=m.payload.feedbacktargets||[],p=o[0];if(!p)return l;return babelHelpers['extends']({},l,(n={},n[m.ftentidentifier]=babelHelpers['extends']({orderingmodes:[],defaultcommentorderingmode:''},p),n));}return l;};function k(){h.apply(this,arguments);}f.exports=new k(c('UFIDispatcherBase'));}),null);
__d('UFIInteractionStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('UFIActionTypes').ADD_COMMENT,k=c('UFIActionTypes').COMMENT,l=c('UFIActionTypes').INSTANCE,m=c('UFIActionTypes').STORY;h=babelHelpers.inherits(n,c('FluxReduceStore'));i=h&&h.prototype;n.prototype.getInitialState=function(){return {};};n.prototype.reduce=function(o,p){var q;switch(p.type){case j.SUBMIT_EDIT:case j.SUBMIT_NEW:case j.TYPING_CHANGE:case k.CHANGE_REACTION:case k.EDIT:case k.REMOVE:case k.TOGGLE_LIKE:case k.TOGGLE_MARK_AS_SPAM:case k.TRANSLATE:case l.CHANGE_ORDER_MODE:case l.TOGGLE_COMMENTS:case m.PAGE_IN_COMMENTS:case m.SHOW_REPLIES:case m.TOGGLE_REPLIES:return babelHelpers['extends']({},o,(q={},q[p.instanceID]=true,q));}return o;};function n(){h.apply(this,arguments);}f.exports=new n(c('UFIDispatcherBase'));}),null);
__d('UFILivePinnedCommentStore',['FluxReduceStore','UFIActionTypes','UFIComments','UFIFeedbackTargets','UFIDispatcherBase','areEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m;switch(l.type){case c('UFIActionTypes').STORY.LIVE_PIN_COMMENT:case c('UFIActionTypes').STORY.LIVE_UNPIN_COMMENT:var n=l.commentID,o=l.pinEventID;return babelHelpers['extends']({},k,(m={},m[l.ftentidentifier]={commentID:n,pinEventID:o},m));default:return k;}};j.prototype.areEqual=function(k,l){return c('areEqual')(k,l);};j.prototype.getPinnedCommentID=function(k){var l=this.getState()[k];if(!l){var m=c('UFIFeedbackTargets').getFeedbackTargetIfExists(k);if(!m)return null;return m.livepinnedcommentid||null;}return l.commentID||null;};j.prototype.getPinEventID=function(k){var l=this.getState()[k];if(!l)return null;return l.pinEventID||null;};j.prototype.getPinnedCommentAuthorID=function(k){var l=this.getPinnedCommentID(k);if(l===null)return null;return c('UFIComments').getComment(l).author||null;};function j(){h.apply(this,arguments);}f.exports=new j(c('UFIDispatcherBase'));}),null);
__d('UFILiveTypingStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.getNewFeedbackState=function(k){switch(k){case c('UFIActionTypes').STORY.FRIEND_TYPING:return 'friend';case c('UFIActionTypes').STORY.SOMEONE_TYPING:return 'someone';case c('UFIActionTypes').STORY.TYPING_STOPPED:return false;default:return null;}};j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m=j.getNewFeedbackState(l.type);if(m!==null){var n;k=babelHelpers['extends']({},k,(n={},n[l.ftentidentifier]=m,n));}return k;};j.prototype.isFriendTyping=function(k){return this.getState()[k]==='friend';};function j(){h.apply(this,arguments);}f.exports=new j(c('UFIDispatcherBase'));}),null);
__d('UFIOrderingModeStore',['FluxReduceStore','immutable','UFIActionTypes','UFIConstants','UFIDispatcherBase','UFIFeedbackStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('UFIActionTypes').INSTANCE,k=c('UFIConstants').UFICommentOrderingMode;function l(n,o){return n.filter(function(p){return p.selected;}).map(function(p){return p.value;}).pop()||o;}h=babelHelpers.inherits(m,c('FluxReduceStore'));i=h&&h.prototype;m.prototype.getInitialState=function(){return new (c('immutable').Map)();};m.prototype.areEqual=function(n,o){return c('immutable').is(n,o);};m.prototype.isLiveStreaming=function(n){return (this.getState().get(n)==k.LIVE_STREAMING);};m.prototype.reduce=function(n,o){switch(o.type){case j.INIT:if(n.get(o.instanceID))return n;c('UFIDispatcherBase').waitFor([c('UFIFeedbackStore').getDispatchToken()]);var p=c('UFIFeedbackStore').getState()[o.ftentidentifier];return n.set(o.instanceID,l(p.orderingmodes,p.defaultcommentorderingmode));case j.CHANGE_ORDER_MODE:return n.set(o.instanceID,o.mode);}return n;};function m(){h.apply(this,arguments);}f.exports=new m(c('UFIDispatcherBase'));}),null);
__d('UFIReactionsUtils',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getReactionData:function i(j,k,l,m,n){k=parseInt(k,10);var o=!!k,p=j.reactorids?j.reactorids.slice(0):[],q=p.indexOf(l),r=0;if(o){if(q<0){p.unshift(l);r=1;}}else if(q>-1){p.splice(q,1);r=-1;}var s=Math.max(j.reactioncount+r,0),t=j.reactioncountreduced;if(t&&!isNaN(t))if(m){t=m(s,n);}else t=s.toString();var u=j.reactioncountmap||{},v,w=j.viewerreaction;if(w&&u[w]){u[w]['default']=Math.max((u[w]['default']||0)-1,0);v=u[w].reduced;if(v&&!isNaN(v))u[w].reduced=u[w]['default'].toString();}if(o&&u[k]){u[k]['default']=(u[k]['default']||0)+1;v=u[k].reduced;if(v&&!isNaN(v))u[k].reduced=u[k]['default'].toString();}var x=j.userreactions;if(!x||Array.isArray(x))x={};if(o){x[l]=k;}else delete x[l];var y=j.importantreactorids||[],z=y.indexOf(l);if(o&&z===-1){y.unshift(l);}else if(!o&&z!==-1)y.splice(z,1);var aa=null;if(j.reactionsentences){var ba=!(w&&k);aa={current:j.reactionsentences[ba?'alternate':'current'],alternate:j.reactionsentences[ba?'current':'alternate']};}return {importantreactorids:y,reactioncount:s,reactioncountmap:u,reactioncountreduced:t,reactionsentences:aa,reactorids:p,userreactions:x,viewerreaction:k};},getReactionCountMapFromSummary:function i(j){var k={};if(!j)return k;for(var l=0;l<j.length;l++){var m=j[l],n=m.feedback_reaction.key;k[n]={'default':m.reactors&&m.reactors.count,reduced:m.reactors&&m.reactors.display_count};}return k;}};f.exports=h;}),null);
__d('UFICommentOrdering',['UFIConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={inverted:function i(j){switch(j){case c('UFIConstants').UFICommentOrderingMode.RECENT_ACTIVITY:case c('UFIConstants').UFICommentOrderingMode.RANKED_THREADED:case c('UFIConstants').UFICommentOrderingMode.FILTERED:case c('UFIConstants').UFICommentOrderingMode.LIVE_STREAMING:return true;}return false;}};f.exports=h;}),null);
__d('UFIPagedCommentList',['ClientIDs','KeyedCallbackManager','UFICentralUpdates','UFICommentLogger','UFIConfig','UFIConstants','UFIFeedbackTargets','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({actorID:true});function i(j){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new (c('KeyedCallbackManager'))();this.feedbackTargetID=j;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink='';this.commentPermalinks={};c('UFIFeedbackTargets').getFeedbackTarget(this.feedbackTargetID,function(k){this.actorID=k.actorforpost;this.basePermalink=k.permalink;}.bind(this));}i.prototype.addOrUpdateComment=function(j){if(j.islocal){this.$UFIPagedCommentList1(j.id);}else this.$UFIPagedCommentList2(j.id,j.clientid,j.legacyid);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);};i.prototype.$UFIPagedCommentList1=function(j){this.dataSource.setResource(this.count,j);this.count++;};i.prototype.$UFIPagedCommentList2=function(j,k,l){var m=k&&c('ClientIDs').isExistingClientID(k),n=this.dataSource.getAllResources(),o={};for(var p in n){var q=n[p];o[q]=p;}if(m&&k in o){o[j]=o[k];var r=o[k];this.dataSource.setResource(r,j);if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(k,Date.now());}else if(!o[j]&&k)this.$UFIPagedCommentList1(j);if(l&&j in o)this.commentPermalinks[j]=this.buildCommentPermalink(j,l,o[j]);};i.prototype.addCommentIDs=function(j,k,l){var m={};for(var n=0;n<k;n++)m[j+n]=l[n]||c('UFIConstants').unavailableCommentKey;this.dataSource.addResourcesAndExecute(m);c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);return this;};i.prototype.getComments=function(j,k,l,m){var n=new Array(k).fill().map(function(t,u){return u+j;}),o=this.dataSource.getUnavailableResourcesFromRequest(n);if(o.length){var p=Math.min.apply(Math,o),q=Math.max.apply(Math,o),r=p,s=q-p+1;if(r<this.lastRequestedOffset||r+s>this.lastRequestedOffset+this.lastRequestedLength){this.lastRequestedOffset=r;this.lastRequestedLength=s;this.fetchComments(r,s,l);}}else this.dataSource.executeOrEnqueue(n,function(t){return m(this.commentsFromCommentIDs(t,j,k));}.bind(this));};i.prototype.getCommentsOrThrow=function(j){var k=j.getLength(),l=j.getOffset(),m={};new Array(k).fill().forEach(function(n,o){var p=o+l,q=this.dataSource.getResource(p);if(!q)throw new Error('Tried to get nonexistent comment');m[p]=q;}.bind(this));return this.commentsFromCommentIDs(m,l,k);};i.prototype.fetchComments=function(j,k,l){};i.prototype.commentsFromCommentIDs=function(j,k,l){};i.prototype.reset=function(){var j=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return j;};i.prototype.deleteComment=function(j){if(!(j in this.deletedComments)){this.deletedComments[j]=true;this.deletedCount++;}};i.prototype.updateCommentCount=function(j){this.count=j;this.deletedCount=0;return this;};i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};i.prototype.getCommentCount=function(){return this.count;};i.prototype.getDeletedCount=function(){return this.deletedCount;};i.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};i.prototype.getBasePermalink=function(){return this.basePermalink;};i.prototype.buildCommentPermalink=function(j,k,l){};i.prototype.getPermalinkForComment=function(j){return this.commentPermalinks[j];};i.isValidContextPropertyForReset=function(j){return j in h;};f.exports=i;}),null);
__d('UFIReplyCommentList',['ActorURI','getObjectValues','JSLogger','MercuryServerDispatcher','UFICentralUpdates','UFIPagedCommentList','UFICommentLogger','UFIComments','UFIConfig','UFIConstants','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={},k=c('JSLogger').create('ufi_reply_comment_list');h=babelHelpers.inherits(l,c('UFIPagedCommentList'));i=h&&h.prototype;l.getCommentList=function(n,o,p){if(!j[o])j[o]={};if(!j[o][p]){var q=new l(n,o,p),r=l.getReplyListsForParentCommentID(o);if(r.length)q.updateCommentCount(r[0].getCommentCount());j[o][p]=q;}return j[o][p];};l.getReplyListsForParentCommentID=function(n){return c('getObjectValues')(j[n]||{});};l.resetWithContext=function(n,o,p,q){var r=j[o][q];if(!r)return;r.reset();for(var s in p)if(this.isValidContextPropertyForReset(s))r[s]=p[s];};function l(n,o,p){i.constructor.call(this,n);this.parentCommentID=o;this.containerOrderingMode=p;}l.prototype.fetchComments=function(n,o,p){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:o,is_reply:true});var q={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[n],lengths:[o],feed_context:p?p.feedContext:null,numpagerclicks:p?p.numPagerClicks:null,containerorderingmode:this.containerOrderingMode,translate_all:p?p.translateAll:null};if(!p||!p.viewAs)q[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/reply_fetch.php',q);};l.prototype.commentsFromCommentIDs=function(n,o,p){var q={};for(var r=0;r<p;r++){var s=c('UFIComments').getComment(n[o+r]);if(s)q[o+r]=s;}return q;};l.prototype.reset=function(){var n=i.reset.call(this),o={};for(var p in n){var q=n[p];o[q]=true;}c('UFIComments').resetComments(o);};l.prototype.getParentCommentID=function(){return this.parentCommentID;};l.prototype.buildCommentPermalink=function(n,o,p){if(!this.basePermalink)return null;var q=this.getParentCommentID().split("_"),r=o;if(q.length===2){r=q[1];}else k.error("Bad reply comment ID: "+this.getParentCommentID());return (new (c('URI'))(this.basePermalink).addQueryData({comment_id:r,reply_comment_id:o}).toString());};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/reply_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});function m(n){var o=c('UFIComments').getComment(n.commentid),p=o.id,q=o.parentcommentid;if(!q)return;if(o.status!==c('UFIConstants').UFIStatus.DELETED&&o.status!==c('UFIConstants').UFIStatus.FAILED_ADD)l.getReplyListsForParentCommentID(q).forEach(function(r){r.deleteComment(p);});}c('UFICentralUpdates').subscribe('update-actions',function(n,o){if(o.actions&&o.actions.length)for(var p=0;p<o.actions.length;p++){var q=o.actions[p];switch(q.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:m(q);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(n,o){var p=o.commentlists;if(p&&p.replies&&Object.keys(p).length)for(var q in p.replies){var r=p.replies[q],s=r.ftentidentifier,t=r.containerorderingmode;l.getCommentList(s,q,t).addCommentIDs(r.range.offset,r.range.length,r.values).updateCommentCount(r.count);}});c('UFICentralUpdates').subscribe('update-comments',function(n,o){if(o.comments&&o.comments.length)o.comments.forEach(function(p){var q=p.parentcommentid;if(!q)return;l.getReplyListsForParentCommentID(q).forEach(function(r){r.addOrUpdateComment(p);});});});f.exports=l;}),6);
__d('UFIRange',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){var i=arguments.length<=0||arguments[0]===undefined?0:arguments[0],j=arguments.length<=1||arguments[1]===undefined?0:arguments[1];this.offset=i;this.length=j;this.requestedOffset=this.offset;this.requestedLength=this.length;}h.prototype.getOffset=function(){return this.offset;};h.prototype.getLength=function(){return this.length;};h.prototype.getRequestedOffset=function(){return this.requestedOffset;};h.prototype.getRequestedLength=function(){return this.requestedLength;};h.prototype.updateRequestedRange=function(i,j){this.requestedOffset=i;this.requestedLength=j;return this;};h.prototype.isLoadingNext=function(){var i=this.requestedOffset+this.requestedLength,j=this.offset+this.length;return i>j;};h.prototype.isLoadingPrev=function(){return this.requestedOffset<this.offset;};h.combine=function(i,j){if(!j)return i;var k=Math.min(i.getOffset(),j.getOffset()),l=Math.max(i.getLength(),j.getLength()),m=new h(k,l);if(j.getRequestedLength()>0){var n=Math.min(k,j.getRequestedOffset()),o=Math.max(k+l,j.getRequestedOffset()+j.getRequestedLength());m.updateRequestedRange(n,o-n);}return m;};f.exports=h;}),null);
__d('UFIToplevelStreamedCommentList',['invariant','ClientIDs','Map','UFICentralUpdates','UFICommentLogger','UFIConfig','UFIComments','UFIConstants','UFIRange'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.feedbackTargetID=j;this.commentIDs=[];this.deletedCount=0;this.totalCommentCount=0;}i.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};i.prototype.getClientHasAll=function(){return false;};i.prototype.getActualCommentCount=function(){return this.commentIDs.length;};i.prototype.getCommentCount=function(){return this.totalCommentCount;};i.prototype.getDisplayedCommentCount=function(){return this.getCommentCount()-this.getDeletedCount();};i.prototype.getDeletedCount=function(){return this.deletedCount;};i.prototype.getPermalinkForComment=function(j){return '';};i.prototype.getComments=function(j,k,l,m){m(this.getCommentsOrThrow(new (c('UFIRange'))(j,k),l));};i.prototype.getCommentsOrThrow=function(j,k){var l=j.getLength(),m=j.getOffset();!(m===0)?h(0):void 0;var n=k.streamingOrderReversed,o={};for(var p=0;p<Math.min(l,this.commentIDs.length);++p){var q=n?this.commentIDs.length-1-p:p,r=c('UFIComments').getComment(this.commentIDs[q]);if(r)o[p]=r;}return o;};i.prototype.$UFIToplevelStreamedCommentList3=function(){var j=this.commentIDs;this.commentIDs=[];return j;};i.prototype.hasComment=function(j){for(var k=0;k<this.commentIDs.length;++k)if(this.commentIDs[k]===j.id)return true;return false;};i.prototype.addOrUpdateComment=function(j,k){var l=j.clientid;if(l&&c('ClientIDs').isExistingClientID(l)){for(var m=0;m<this.commentIDs.length;++m)if(this.commentIDs[m]===l){this.commentIDs[m]=j.id;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentReceived(l,Date.now());}}else if(k||j.islocal){if(this.hasComment(j))return;this.commentIDs.push(j.id);this.totalCommentCount+=1;}if(this.commentIDs.length>50)this.commentIDs.shift();c('UFICentralUpdates').didUpdateFeedback(this.feedbackTargetID);};i.prototype.deleteComment=function(j){var k=[];for(var l=0;l<this.commentIDs.length;++l){var m=this.commentIDs[l];if(m===j){this.deletedCount+=1;}else k.push(m);}this.commentIDs=k;};i.prototype.updateCommentCount=function(j){this.totalCommentCount=j;};i.getCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l){l=new (c('Map'))();i.$UFIToplevelStreamedCommentList1.set(j,l);}var m=l.get(k);if(!m){m=new i(j);l.set(k,m);}return m;};i.getExistingCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.$UFIToplevelStreamedCommentList1.get(j);if(!l)return null;return l.get(k);};i.getAllExistingCommentLists=function(j){var k=i.$UFIToplevelStreamedCommentList1.get(j);if(!k)return [];return Array.from(k.values());};i.$UFIToplevelStreamedCommentList4=function(j,k){var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){k.forEach(function(n){l[n]=true;});return;}var m={};k.forEach(function(n){m[n]=true;});i.$UFIToplevelStreamedCommentList2.set(j,m);};i.resetCommentList=function(j){var k=arguments.length<=1||arguments[1]===undefined?i.GLOBAL_ID:arguments[1],l=i.getExistingCommentList(j,k);if(!l)return;i.$UFIToplevelStreamedCommentList4(j,l.$UFIToplevelStreamedCommentList3());};i.resetAllCommentLists=function(j){var k=i.getAllExistingCommentLists(j);if(k.length===0)return;k.forEach(function(m){i.$UFIToplevelStreamedCommentList4(j,m.$UFIToplevelStreamedCommentList3());});var l=i.$UFIToplevelStreamedCommentList2.get(j);if(l){i.$UFIToplevelStreamedCommentList2['delete'](j);c('UFIComments').resetComments(l);}};i.GLOBAL_ID='GLOBAL_ID';i.$UFIToplevelStreamedCommentList1=new (c('Map'))();i.$UFIToplevelStreamedCommentList2=new (c('Map'))();c('UFICentralUpdates').subscribe('update-actions',function(j,k){if(!k.actions)return;k.actions.forEach(function(l){if(l.actiontype!==c('UFIConstants').UFIActionType.DELETE_COMMENT)return;var m=c('UFIComments').getComment(l.commentid),n=m.id,o=m.ftentidentifier,p=m.parentcommentid;if(p)return;if(l.islocal||m.status!==c('UFIConstants').UFIStatus.DELETED&&m.status!==c('UFIConstants').UFIStatus.FAILED_ADD)i.getCommentList(o).deleteComment(n);});});c('UFICentralUpdates').subscribe('update-comments',function(j,k){if(!k.comments)return;var l=k.targetufiinstanceid;k.comments.forEach(function(m){if(m.parentcommentid)return;if(l){i.getCommentList(m.ftentidentifier,l).addOrUpdateComment(m,!!k.isstreaming);}else i.getAllExistingCommentLists(m.ftentidentifier).forEach(function(n){n.addOrUpdateComment(m,!!k.isstreaming);});});});f.exports=i;}),6);
__d('UFIToplevelPagedCommentList',['ActorURI','MercuryServerDispatcher','UFICentralUpdates','UFIPagedCommentList','UFICommentLogger','UFICommentOrdering','UFIComments','UFIConfig','UFIConstants','UFIReplyCommentList','UFIToplevelStreamedCommentList','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j={};h=babelHelpers.inherits(k,c('UFIPagedCommentList'));i=h&&h.prototype;k.getCommentList=function(m,n){if(!j[m])j[m]={};if(!j[m][n]){var o=new k(m,n),p=k.getCommentListsForFeedbackTargetID(m);if(p.length)o.updateCommentCount(p[0].getCommentCount());j[m][n]=o;}return j[m][n];};k.getCommentListsForFeedbackTargetID=function(m){var n=[],o=j[m]||{};for(var p in o)n.push(o[p]);return n;};k.getDisplayedCommentCountForFeedbackTargetID_UNSAFE=function(m){var n=k.getCommentListsForFeedbackTargetID(m),o=n.length?n[0].getDisplayedCommentCount():null,p=c('UFIToplevelStreamedCommentList').getAllExistingCommentLists(m),q=p.length?p[0].getDisplayedCommentCount():null;if(o===null&&q===null)return null;return Math.max(o,q);};k.resetCommentListsForFeedbackTargetID=function(m){if(!j[m])return;var n={};for(var o in j[m]){var p=j[m][o],q=p.reset();for(var r in q){var s=q[r];n[s]=true;}}c('UFIComments').resetComments(n);};k.resetCommentListsWithContext=function(m,n){if(!j[m])return;var o={};for(var p in j[m]){var q=j[m][p];for(var r in n)if(this.isValidContextPropertyForReset(r))q[r]=n[r];var s=q.reset();for(var t in s){var u=s[t];o[u]=true;c('UFIReplyCommentList').resetWithContext(m,u,n,p);}}c('UFIComments').resetComments(o);};function k(m,n){i.constructor.call(this,m);this.orderReversed=false;if(c('UFICommentOrdering').inverted(n))this.orderReversed=true;this.orderingMode=n;this.clientHasAll=false;}k.prototype.fetchComments=function(m,n,o){if(c('UFIConfig').logCommentLoad)c('UFICommentLogger').logCommentFetch(this.feedbackTargetID,Date.now(),{request_length:n,is_reply:false});var p={ft_ent_identifier:this.feedbackTargetID,viewas:o&&o.viewAs?o.viewAs+'':null,source:o&&o.feedbackSource,offset:m,length:n,orderingmode:this.orderingMode,feed_context:o?o.feedContext:null,numpagerclicks:o?o.numPagerClicks:null,translate_all:o?o.translateAll:null};switch(this.orderingMode){case c('UFIConstants').UFICommentOrderingMode.RECENT_ACTIVITY:case c('UFIConstants').UFICommentOrderingMode.RANKED_THREADED:case c('UFIConstants').UFICommentOrderingMode.FILTERED:p.clientcommentcount=this.count;}if(!o||!o.viewAs)p[c('ActorURI').PARAMETER_ACTOR]=this.actorID;c('MercuryServerDispatcher').trySend('/ajax/ufi/comment_fetch.php',p);};k.prototype.commentsFromCommentIDs=function(m,n,o){var p={},q=n,r=n+o-1;for(var s=0;s<o;s++){var t=this.orderReversed?r-s:q+s,u=c('UFIComments').getComment(m[t]);if(u)p[n+s]=u;}return p;};k.prototype.getOrderingMode=function(){return this.orderingMode;};k.prototype.setClientHasAll=function(m){this.clientHasAll=m;return this;};k.prototype.getClientHasAll=function(){return this.clientHasAll;};k.prototype.buildCommentPermalink=function(m,n,o){if(!this.basePermalink)return null;return (new (c('URI'))(this.basePermalink).addQueryData({comment_id:n}).toString());};c('MercuryServerDispatcher').registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE}});function l(m){var n=c('UFIComments').getComment(m.commentid),o=n.id,p=n.ftentidentifier,q=n.parentcommentid;if(q)return;if(m.islocal||n.status!==c('UFIConstants').UFIStatus.DELETED&&n.status!==c('UFIConstants').UFIStatus.FAILED_ADD)k.getCommentListsForFeedbackTargetID(p).forEach(function(r){r.deleteComment(o);});}c('UFICentralUpdates').subscribe('update-actions',function(m,n){if(n.actions&&n.actions.length)for(var o=0;o<n.actions.length;o++){var p=n.actions[o];switch(p.actiontype){case c('UFIConstants').UFIActionType.DELETE_COMMENT:l(p);break;}}});c('UFICentralUpdates').subscribe('update-comment-lists',function(m,n){var o=n.commentlists;if(o&&o.comments&&Object.keys(o).length)for(var p in o.comments)for(var q in o.comments[p]){var r=o.comments[p][q],s=k.getCommentList(p,q).addCommentIDs(r.range.offset,r.range.length,r.values);s.setClientHasAll(!!r.forcenotpageable);}});c('UFICentralUpdates').subscribe('update-comments',function(m,n){if(n.comments&&n.comments.length)n.comments.forEach(function(o){if(o.parentcommentid)return;var p=o.ftentidentifier;k.getCommentListsForFeedbackTargetID(p).forEach(function(q){q.addOrUpdateComment(o);});});});c('UFICentralUpdates').subscribe('update-feedback',function(m,n){if(n.feedbacktargets&&n.feedbacktargets.length)n.feedbacktargets.forEach(function(o){var p=o.entidentifier,q=o.defaultcommentorderingmode,r={};if(q)r[q]=true;if(o.orderingmodes)o.orderingmodes.forEach(function(t){if(t.value===c('UFIConstants').UFICommentOrderingMode.LIVE_STREAMING)return;r[t.value]=true;});for(var s in r)k.getCommentList(p,s).updateCommentCount(o.commentcount);});});f.exports=k;}),6);
__d("XConstituencyTitleEditVisibilityDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/constituency_title\/edit_comment_visibility\/",{ft_id:{type:"FBID",required:true},action_type:{type:"Enum",required:true,enumType:1},source:{type:"Enum",required:true,enumType:1},comment_id:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d("XConstituencyTitleEnableController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/constituency_title\/enable\/",{});}),null);
__d("XUFIActorChangeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/actor\/change\/",{});}),null);
__d("XUFIAddCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/add\/comment\/",{});}),null);
__d("XUFICommentLikeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/comment\/like\/",{});}),null);
__d("XUFICommentReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/comment\/reaction\/",{reaction_type:{type:"Enum",enumType:0}});}),null);
__d("XUFIDeleteCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/delete\/comment\/",{});}),null);
__d("XUFIEditCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/edit\/comment\/",{});}),null);
__d("XUFIHideCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/hide\/comment\/",{});}),null);
__d("XUFILikeController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/like\/",{});}),null);
__d("XUFIReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/reaction\/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:false},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},aftercursor:{type:"String"},tab:{type:"String"},av:{type:"Int"},_ft_:{type:"String"}});}),null);
__d("XUFITranslateCommentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/translate\/comment\/",{});}),null);
__d("XUFITypingIndicatorController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ufi\/typing\/{feedback_id}\/{update}\/",{feedback_id:{type:"String",required:true},parent_comment_id:{type:"String"},update:{type:"Enum",required:true,enumType:1},session_id:{type:"String"}});}),null);
__d('UFIUserActions',['errorCode','fbt','ActorURI','AsyncRequest','AsyncResponse','requireWeak','ChannelClientID','ClientIDs','ImmutableObject','Nectar','NumberFormat','UFICentralUpdates','UFIToplevelPagedCommentList','UFIToplevelStreamedCommentList','UFIComments','UFICommentLogger','UFIConfig','UFIConstants','UFIFeedbackTargets','UFIReactionTypes','UFIReactionsUtils','UFIVideoPlayerRegistry','MercuryServerDispatcher','XConstituencyTitleEditVisibilityDialogController','XConstituencyTitleEnableController','XUFIActorChangeController','XUFIAddCommentController','XUFICommentLikeController','XUFICommentReactionController','XUFIDeleteCommentController','XUFIEditCommentController','XUFIHideCommentController','XUFILikeController','XUFIReactionController','XUFITranslateCommentController','XUFITypingIndicatorController','collectDataAttributes','ifRequired','UnicodeBidi'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;c('requireWeak')('StickerAssetType',function(ma){j=ma;});var k={BAN:'ban',UNDO_BAN:'undo_ban'},l={changeActor:function ma(na,oa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(pa){c('UFIToplevelPagedCommentList').resetCommentListsWithContext(na,{actorID:oa});c('UFIToplevelStreamedCommentList').resetAllCommentLists(na);c('UFICentralUpdates').inform('actor-changed',{actorID:oa});var qa={from_actor_id:pa.actorforpost,ft_ent_identifier:na};qa[c('ActorURI').PARAMETER_ACTOR]=oa;var ra=c('XUFIActorChangeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ra,qa);});},changeCommentLike:function ma(na,oa,pa){var qa=c('UFIComments').getComment(na);if(qa.hasviewerliked!=oa){var ra=m(pa.target),sa=oa?1:-1,ta={commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:oa,likecount:(qa.likecount||0)+sa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ta]});c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(ua){var va={};va[c('ActorURI').PARAMETER_ACTOR]=ua.actorforpost;var wa=c('XUFICommentLikeController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(wa,babelHelpers['extends']({comment_id:na,legacy_id:qa.legacyid,like_action:oa,ft_ent_identifier:qa.ftentidentifier,source:pa.source,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},ra,va));});}},changeCommentReaction:function ma(na,oa,pa){var qa=c('UFIComments').getComment(na);if(qa.viewerreaction!=oa)c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(ra){var sa=m(pa.target),ta=oa===c('UFIReactionTypes').LIKE,ua=[la(qa,oa,na,ra.supportedreactions,ra.actorforpost)];if(ra.hasviewerliked!==ta){var va=ta?1:-1;ua.push({commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:ta,likecount:(qa.likecount||0)+va});}c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ua});var wa={};wa[c('ActorURI').PARAMETER_ACTOR]=ra.actorforpost;c('MercuryServerDispatcher').trySend(c('XUFICommentReactionController').getURIBuilder().getURI(),babelHelpers['extends']({comment_id:na,legacy_id:qa.legacyid,reaction_type:oa,ft_ent_identifier:qa.ftentidentifier,source:pa.source,client_id:c('ClientIDs').getNewClientID(),session_id:c('ChannelClientID').getID()},sa,wa));});},_getAttachment:function ma(na){return na;},_getLocalComment:function ma(na,oa,pa,qa,ra,sa){var ta=c('ClientIDs').getNewClientID(),ua=c('UnicodeBidi').isDirectionLTR(pa)?'ltr':'rtl',va=this._getAttachment(ra.attachedsticker);return {ftentidentifier:oa,body:{text:pa,dir:ua},author:na.actorforpost,id:ta,islocal:true,ufiinstanceid:ra.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:ra.replyid,replycommentparentid:ra.replycommentparentid,attachment:va,photo_comment:ra.attachedphoto,video_comment:ra.attachedvideo,timestamp:{time:Math.floor(Date.now()/1000),text:i._("\u6570\u79d2\u524d")},photoTextTagID:ra.photoTextTagID,isPhotoTag:ra.isPhotoTag,photoTagX:ra.photoTagX,photoTagY:ra.photoTagY,videoTimeOffset:sa,postedLiveState:ra.islivestreaming?c('UFIConstants').UFICommentPostedLiveState.LIVE:c('UFIConstants').UFICommentPostedLiveState.ON_DEMAND};},addComment:function ma(na,oa,pa,qa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(ra){var sa=this.createComment(na,oa,pa,qa);if(!sa)return;var ta={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:ra.actorforpost,hasviewersubscribed:true,entidentifier:ra.entidentifier},ua={actiontype:c('UFIConstants').UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:ra.targetfbid};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[sa],actions:[ta,ua]});}.bind(this));},createComment:function ma(na,oa,pa,qa){var ra=c('UFIFeedbackTargets').getFeedbackTargetIfExists(na);if(!ra.actorforpost)return null;var sa=null;if(qa.isBroadcasterUFI){sa=c('ifRequired')('LiveVideoBroadcastBroadcastStore',function(ua){return (ua.getCurrentBroadcastTime());});}else if(qa.fluentContentToken&&(qa.isLiveVOD||qa.islivestreaming))sa=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(qa.target,qa.fluentContentToken);var ta=this._getLocalComment(ra,na,oa,pa,qa,sa);this._sendCommentToServer(na,ra.actorforpost,oa,pa,qa,ta.id,sa);return ta;},_sendCommentToServer:function ma(na,oa,pa,qa,ra,sa,ta){var ua=null;if(ra.reply_fbid){ua=ra.reply_fbid;}else if(ra.replyid)ua=c('UFIComments').getComment(ra.replyid).fbid;var va;if(c('UFIConfig').logCommentPost)c('UFICommentLogger').logNewCommentPost(sa,ra.timestamp,{has_photo:!!ra.attachedphoto,has_video:!!ra.attachedvideo,has_sticker:!!ra.attachedsticker,is_reply:!!ra.replyid});var wa={};wa[c('ActorURI').PARAMETER_ACTOR]=oa;var xa=c('XUFIAddCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(xa,babelHelpers['extends']({ft_ent_identifier:na,comment_text:qa,source:ra.source,client_id:sa,session_id:c('ChannelClientID').getID(),reply_fbid:ua,parent_comment_id:ra.parent_comment_id||ra.replyid,reply_comment_parent_id:ra.replycommentparentid,rootid:ra.rootid,clp:va,attached_sticker_fbid:ra.attachedsticker?ra.attachedsticker.fbid:0,attached_photo_fbid:ra.attachedphoto?ra.attachedphoto.fbid:0,attached_video_fbid:ra.attachedvideo?ra.attachedvideo.fbid:0,attached_share_url:ra.attachedshareurl,feedback_referrer:ra.feedbackReferrer,feed_context:ra.feedcontext,video_time_offset:ta,is_live_streaming:ra.islivestreaming,is_markdown:ra.isMarkdown},m(ra.target),wa,{photo_text_tag_id:ra.photoTextTagID,is_private:ra.isPrivate,is_photo_tag:ra.isPhotoTag,photo_fbid:ra.photoFBID,photo_tag_x:ra.photoTagX,photo_tag_y:ra.photoTagY}));},_hasCommentTextChanged:function ma(na,oa){return na.body&&na.body.text!=oa;},_hasCommentPhotoChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&oa&&na.fbid!=oa.fbid;},_hasCommentVideoChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&oa&&na.fbid!=oa.fbid;},_hasCommentStickerChanged:function ma(na,oa){return (na||oa)&&!(na&&oa)||na&&na.type=="sticker"&&oa&&na.fbid!=oa.fbid;},editComment:function ma(na,oa,pa,qa){var ra=m(qa.target),sa=c('UFIComments').getComment(na),ta=this._hasCommentTextChanged(sa,oa)||this._hasCommentPhotoChanged(sa.photo_comment,qa.attachedPhoto)||this._hasCommentStickerChanged(sa.attachment,qa.attachedSticker)||this._hasCommentVideoChanged(sa.video_comment,qa.attachedVideo);sa=c('ImmutableObject').set(sa,{status:c('UFIConstants').UFIStatus.PENDING_EDIT,body:{text:oa},editnux:null,attachment:qa.attachedSticker,photo_comment:qa.attachedPhoto,video_comment:qa.attachedVideo});if(ta)sa=c('ImmutableObject').set(sa,{originalTimestamp:sa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:i._("\u6570\u79d2\u524d")}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[sa]});c('UFIFeedbackTargets').getFeedbackTarget(sa.ftentidentifier,function(ua){var va={};va[c('ActorURI').PARAMETER_ACTOR]=ua.actorforpost;var wa=c('XUFIEditCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(wa,babelHelpers['extends']({ft_ent_identifier:sa.ftentidentifier,comment_text:pa,source:qa.source,comment_id:sa.id,parent_comment_id:sa.parentcommentid,attached_sticker_fbid:qa.attachedSticker?qa.attachedSticker.fbid:0,attached_photo_fbid:qa.attachedPhoto?qa.attachedPhoto.fbid:0,attached_video_fbid:qa.attachedVideo?qa.attachedVideo.fbid:0},ra,va));});},translateComments:function ma(na,oa,pa,qa){var ra=c('XUFITranslateCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ra,{ft_ent_identifier:na,comment_ids:oa,source:qa.source,trigger:pa});},setHideAsSpam:function ma(na,oa,pa){var qa=m(pa.target),ra=c('UFIComments').getComment(na),sa={commentid:na,actiontype:c('UFIConstants').UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:oa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[sa]});c('UFIFeedbackTargets').getFeedbackTarget(ra.ftentidentifier,function(ta){var ua={};ua[c('ActorURI').PARAMETER_ACTOR]=ta.actorforpost;var va=c('XUFIHideCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(va,babelHelpers['extends']({comment_id:na,spam_action:oa,ft_ent_identifier:ra.ftentidentifier,source:pa.source},qa,ua));});},removeComment:function ma(na,oa){var pa=m(oa.target),qa=c('UFIComments').getComment(na),ra={actiontype:c('UFIConstants').UFIActionType.DELETE_COMMENT,commentid:na,islocal:true,oneclick:oa.oneclick};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});c('UFIFeedbackTargets').getFeedbackTarget(qa.ftentidentifier,function(sa){var ta={};ta[c('ActorURI').PARAMETER_ACTOR]=sa.actorforpost;var ua=c('XUFIDeleteCommentController').getURIBuilder().getURI();c('MercuryServerDispatcher').trySend(ua,babelHelpers['extends']({comment_id:qa.id,comment_legacyid:qa.legacyid,ft_ent_identifier:qa.ftentidentifier,one_click:oa.oneclick,source:oa.source,client_id:c('ClientIDs').getNewClientID()},pa,ta));});},banUser:function ma(na,oa,pa,qa){var ra=pa?k.BAN:k.UNDO_BAN;c('MercuryServerDispatcher').trySend('/ajax/ufi/ban_user.php',{page_id:oa,commenter_id:na.author,action:ra,comment_id:na.id,client_side:true});},changeReaction:function ma(na,oa,pa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(qa){var ra=[ka(qa,oa)],sa=parseInt(oa,10)!==0;if(qa.hasviewerliked!==sa){var ta=sa?1:-1;ra.push({actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:qa.actorforpost,hasviewerliked:sa,likecount:(qa.likecount||0)+ta,entidentifier:na,likesentences:{current:qa.likesentences.alternate,alternate:qa.likesentences.current}});}c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:ra});var ua=m(pa.target),va={};va[c('ActorURI').PARAMETER_ACTOR]=qa.actorforpost;var wa=babelHelpers['extends']({client_id:c('ClientIDs').getNewClientID(),ft_ent_identifier:na,reaction_type:oa,root_id:pa.rootid,session_id:c('ChannelClientID').getID(),source:pa.source,feedback_referrer:pa.feedbackReferrer},va,ua);if(pa.fluentContentToken)if(pa.isLiveVOD){wa.on_demand_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(pa.target,pa.fluentContentToken);}else if(pa.islivestreaming)wa.live_content_time_offset=c('UFIVideoPlayerRegistry').getAvailableVideoPlayerControllerTimeForElement(pa.target,pa.fluentContentToken);c('MercuryServerDispatcher').trySend(c('XUFIReactionController').getURIBuilder().getURI(),wa);});},changeSubscribe:function ma(na,oa,pa){c('UFIFeedbackTargets').getFeedbackTarget(na,function(qa){var ra=m(pa.target);if(qa.hasviewersubscribed!==oa){var sa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:qa.actorforpost,hasviewersubscribed:oa,entidentifier:na};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[sa]});var ta={};ta[c('ActorURI').PARAMETER_ACTOR]=qa.actorforpost;c('MercuryServerDispatcher').trySend('/ajax/ufi/subscribe.php',babelHelpers['extends']({subscribe_action:oa,ft_ent_identifier:na,source:pa.source,client_id:c('ClientIDs').getNewClientID(),rootid:pa.rootid,comment_expand_mode:pa.commentexpandmode},ra,ta));}});},fetchSpamComments:function ma(na,oa,pa,qa){c('MercuryServerDispatcher').trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:na,viewas:qa,comment_ids:oa,parent_comment_id:pa,source:null});},hideConstituentTitle:function ma(na){var oa=c('XConstituencyTitleEnableController').getURIBuilder().getURI();new (c('AsyncRequest'))(oa).setMethod('POST').setData({ft_id:na.ftentidentifier,enable:false,source:'comment_edit_menu',comment_id:na.id}).send();},showConstituentTitle:function ma(na){var oa=c('XConstituencyTitleEditVisibilityDialogController').getURIBuilder().setFBID('ft_id',na.ftentidentifier).setEnum('action_type','comment_show_constituent_title').setEnum('source','comment_edit_menu').setString('comment_id',na.id).getURI();new (c('AsyncRequest'))(oa).send();},removePreview:function ma(na,oa){var pa=m(oa.target),qa={commentid:na.id,actiontype:c('UFIConstants').UFIActionType.REMOVE_PREVIEW};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[qa]});c('MercuryServerDispatcher').trySend('/ajax/ufi/remove_preview.php',babelHelpers['extends']({comment_id:na.id,ft_ent_identifier:na.ftentidentifier,source:oa.source},pa));},typingChange:function ma(na,oa){new (c('AsyncRequest'))(c('XUFITypingIndicatorController').getURIBuilder().setString('feedback_id',na).setEnum('update',oa?'start':'stop').getURI()).send();}};function m(ma){if(!ma)return {ft:{}};var na={ft:c('collectDataAttributes')(ma,['ft']).ft};c('Nectar').addModuleData(na,ma);return na;}function n(ma){c('AsyncResponse').defaultErrorHandler(ma);}function o(ma){var na=ma.request.data;c('AsyncResponse').defaultErrorHandler(ma);var oa=na.client_id||na.comment_id,pa=c('UFIComments').getComment(oa),qa=pa.status===c('UFIConstants').UFIStatus.PENDING_EDIT?c('UFIConstants').UFIStatus.FAILED_EDIT:c('UFIConstants').UFIStatus.FAILED_ADD;pa=c('ImmutableObject').setDeep(pa,{status:qa,allowRetry:p(ma),body:{mentionstext:na.comment_text,mentionsphoto:pa.photo_comment,mentionsvideo:pa.video_comment}});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function p(ma){var na=ma.getError();if(ma.isBlockedAction())return false;if(ma.silentError)return true;if(na===1357012||na===1357006)return false;return true;}function q(ma){var na=ma.request.data,oa=na.comment_id,pa=c('UFIComments').getComment(oa);pa=c('ImmutableObject').set(pa,{status:pa.priorstatus||null,priorstatus:undefined});c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function r(ma){var na=ma.request.data,oa=na.comment_id,pa=c('UFIComments').getComment(oa);if(na.like_action===pa.hasviewerliked){var qa=pa.hasviewerliked?-1:1,ra={commentid:oa,actiontype:c('UFIConstants').UFIActionType.COMMENT_LIKE,viewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}c('AsyncResponse').defaultErrorHandler(ma);}function s(ma){c('AsyncResponse').defaultErrorHandler(ma);}function t(ma){var na=ma.request.data,oa=na.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(oa,function(pa){if(pa.hasviewerliked===na.like_action){var qa=pa.hasviewerliked?-1:1,ra={actiontype:c('UFIConstants').UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa,entidentifier:oa,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}});c('AsyncResponse').defaultErrorHandler(ma);}function u(ma){var na=ma.request.data,oa=na.ft_ent_identifier;c('UFIFeedbackTargets').getFeedbackTarget(oa,function(pa){if(pa.hasviewersubscribed===na.subscribe_action){var qa={actiontype:c('UFIConstants').UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:!pa.hasviewersubscribed,entidentifier:oa};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.USER_ACTION,{actions:[qa]});}});c('AsyncResponse').defaultErrorHandler(ma);}var v={'/ajax/ufi/ban_user.php':{mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:n},'/ajax/ufi/subscribe.php':{mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:u,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:c('MercuryServerDispatcher').IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:c('MercuryServerDispatcher').IMMEDIATE}},w=c('XUFIAddCommentController').getURIBuilder().getURI();v[w]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:o};var x=c('XUFIDeleteCommentController').getURIBuilder().getURI();v[x]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:q};var y=c('XUFICommentLikeController').getURIBuilder().getURI();v[y]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:r,batch_if:ga,batch_function:ja};var z=c('XUFICommentReactionController').getURIBuilder().getURI();v[z]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:s,batch_if:ga,batch_function:ja};var aa=c('XUFIHideCommentController').getURIBuilder().getURI();v[aa]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:q};var ba=c('XUFILikeController').getURIBuilder().getURI();v[ba]={mode:c('MercuryServerDispatcher').BATCH_CONDITIONAL,error_handler:t,batch_if:ha,batch_function:ja};var ca=c('XUFIEditCommentController').getURIBuilder().getURI();v[ca]={mode:c('MercuryServerDispatcher').IMMEDIATE,error_handler:o};var da=c('XUFITranslateCommentController').getURIBuilder().getURI();v[da]={mode:c('MercuryServerDispatcher').IMMEDIATE};var ea=c('XUFIActorChangeController').getURIBuilder().getURI();v[ea]={mode:c('MercuryServerDispatcher').IMMEDIATE};var fa=c('XUFIReactionController').getURIBuilder().getURI();v[fa]={mode:c('MercuryServerDispatcher').IMMEDIATE};c('MercuryServerDispatcher').registerEndpoints(v);function ga(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier&&ma.comment_id==na.comment_id;}function ha(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ia(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ja(ma,na){return na;}function ka(ma,na){return Object.assign({actiontype:c('UFIConstants').UFIActionType.REACTION,actorid:ma.actorforpost,entidentifier:ma.entidentifier},c('UFIReactionsUtils').getReactionData(ma,na,ma.actorforpost,c('NumberFormat').formatIntegerWithDelimiter,c('UFIConfig').numberDelimiter));}function la(ma,na,oa,pa,qa){var ra={};for(var sa=0;sa<pa.length;sa++){var ta=pa[sa],ua=ma.reactioncountmap[ta];ra[ta]={'default':ua?ua['default']:0,reduced:ua?ua.reduced:'0'};}var va=c('UFIReactionsUtils').getReactionData({viewerreaction:ma.viewerreaction,reactioncount:ma.reactioncount,reactioncountreduced:ma.reactioncountreduced,reactioncountmap:ra,reactorids:ma.viewerreaction?[qa]:[]},na,qa);return {actiontype:c('UFIConstants').UFIActionType.COMMENT_REACTION,commentid:oa,hasviewerliked:!!na,likecount:va.reactioncountmap[1]['default'],reactioncount:va.reactioncount,reactioncountmap:va.reactioncountmap,reactioncountreduced:va.reactioncountreduced,viewerreaction:na};}f.exports=l;}),null);
__d('UFISpamStore',['FluxReduceStore','UFIActionTypes','UFIDispatcherBase','UFIUserActions'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.areEqual=function(k,l){return Object.keys(k).length===Object.keys(l).length;};j.prototype.reduce=function(k,l){switch(l.type){case c('UFIActionTypes').STORY.SPAM_FETCHED:k=babelHelpers['extends']({},k);l.commentIDs.forEach(function(m){return (k[m]=true);});c('UFIUserActions').fetchSpamComments(l.ftentidentifier,l.commentIDs,l.parentCommentID,l.viewas);break;}return k;};function j(){h.apply(this,arguments);}f.exports=new j(c('UFIDispatcherBase'));}),null);
__d('UFISharedDispatcher',['UFIDispatcherBase','UFIFeedbackStore','UFICommentVisibilityStore','UFIInteractionStore','UFILivePinnedCommentStore','UFILiveTypingStore','UFIOrderingModeStore','UFISpamStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('UFIFeedbackStore');c('UFICommentVisibilityStore');c('UFIInteractionStore');c('UFILivePinnedCommentStore');c('UFILiveTypingStore');c('UFIOrderingModeStore');c('UFISpamStore');f.exports=c('UFIDispatcherBase');}),null);
__d('UFIReactionStore',['Arbiter','FluxStore','UFIActionTypes','UFIReactionTypes','UFIUIEvents','UFIUserActions','UFIVideoPlayerRegistry'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;j.prototype.__onDispatch=function(k){switch(k.type){case c('UFIActionTypes').STORY.CHANGE_REACTION:c('UFIUserActions').changeReaction(k.contextArgs.ftentidentifier,k.reactionType,{rootid:k.contextArgs.rootid,source:k.contextArgs.source,target:k.target,feedbackReferrer:k.contextArgs.feedbackReferrer,fluentContentToken:k.contextArgs.fluentContentToken,isLiveVOD:k.contextArgs.isLiveVOD,islivestreaming:k.contextArgs.islivestreaming});c('Arbiter').inform(c('UFIUIEvents').ReactionButtonClicked,{ft_id:k.contextArgs.ftentidentifier,like_action:k.reactionType===c('UFIReactionTypes').LIKE,reaction_type:k.reactionType,target:k.target});break;}};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('ProfileBrowserLink',['URI'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='/ajax/browser/dialog/',i='/browse/',j=function l(m,n,o){return new (c('URI'))(m+n).setQueryData(o);},k={constructPageURI:function l(m,n){return j(i,m,n);},constructDialogURI:function l(m,n){return j(h,m,n);}};f.exports=k;}),null);
__d('ProfileBrowserTypes',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={LIKES:'likes',FRIEND_CHECKINS:'friendcheckins',FRIENDED_FANS_OF:'friended_fans_of',GROUP_MEMBERS:'group_members',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees'};f.exports=h;}),null);
__d('UFIBlingItem.react',['cx','fbt','React','NumberFormat','UFIConfig','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),o=c('NumberFormat').formatIntegerWithDelimiter(this.props.count,c('UFIConfig').numberDelimiter),p=o;switch(this.props.itemKey){case 'like':p=i._({"Like":"\u3044\u3044\u306d\uff01{count}\u4ef6","Likes":"\u3044\u3044\u306d\uff01{count}\u4ef6"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:p),i['enum'](this.props.count===1?'Like':'Likes',{Like:'Like',Likes:'Likes'})]);break;case 'comment':p=i._({"Comment":"\u30b3\u30e1\u30f3\u30c8{count}\u4ef6","Comments":"\u30b3\u30e1\u30f3\u30c8{count}\u4ef6"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:p),i['enum'](this.props.count===1?'Comment':'Comments',{Comment:'Comment',Comments:'Comments'})]);break;case 'reaction':p=i._({"Reaction":"\u30ea\u30a2\u30af\u30b7\u30e7\u30f3{count}\u4ef6","Reactions":"\u30ea\u30a2\u30af\u30b7\u30e7\u30f3{count}\u4ef6"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:p),i['enum'](this.props.count===1?'Reaction':'Reactions',{Reaction:'Reaction',Reactions:'Reactions'})]);break;case 'reshare':p=i._({"Share":"\u30b7\u30a7\u30a2{count}\u4ef6","Shares":"\u30b7\u30a7\u30a2{count}\u4ef6"},[i.param('count',this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:p),i['enum'](this.props.count===1?'Share':'Shares',{Share:'Share',Shares:'Shares'})]);break;}return (c('React').createElement('span',{className:"_2u_j"},p));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={contextArgs:l.object.isRequired,count:l.number.isRequired,countreduced:l.string,className:l.string,iconClassName:l.string,itemKey:l.string};f.exports=m;}),null);
__d('UFICommentLink.react',['cx','fbt','React','TrackingNodes','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=i._("\u30b3\u30e1\u30f3\u30c8\u3059\u308b"),o=i._("\u30b3\u30e1\u30f3\u30c8\u3059\u308b"),p='{ "tn": "'+c('TrackingNodes').encodeTN(c('TrackingNodes').types.COMMENT_LINK)+'", "type": 24 }';return (c('React').createElement('a',{className:"comment_link _5yxe",role:'button',href:this.props.href?this.props.href:'#',title:o,ajaxify:this.props.ajaxify,rel:this.props.rel,onClick:this.props.onClick,'data-ft':p},n));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={onClick:l.func,href:l.string,ajaxify:l.string,rel:l.string};m.defaultProps={onClick:c('emptyFunction')};f.exports=m;}),null);
__d('UFILikeLink.react',['cx','fbt','Bootloader','React','ReactDOM','TrackingNodes','UFILikeWebDriverIDs'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=null;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={nuxShown:false},this.onClick=function(t){if(this.props.href)return;t.preventDefault();this.props.onClick(t);if(this.props.showLikeNuxForGroupMallAds){var u=!this.props.likeAction;if(!u){c('ReactDOM').findDOMNode(this.$UFILikeLink1).focus();this.setState({nuxShown:true});c('Bootloader').loadModules(["UFIGroupMallAdsLikeNux.react"],function(v){m=v;},'UFILikeLink.react');}else this.setState({nuxShown:false});}}.bind(this),this.renderLayers=function(){if(!this.state.nuxShown||!m)return null;return (c('React').createElement(m,{nuxShown:this.state.nuxShown,nuxContent:this.props.likeNuxContent,contextRef:this.$UFILikeLink1}));}.bind(this),p;}n.prototype.render=function(){'use strict';var o=!this.props.likeAction,p=o?c('UFILikeWebDriverIDs').UNLIKE_LINK:c('UFILikeWebDriverIDs').LIKE_LINK,q=!o||!this.props.forcelegacyrendering?i._("\u3044\u3044\u306d\uff01"):i._("\u3044\u3044\u306d\uff01\u3092\u53d6\u308a\u6d88\u3059"),r=c('TrackingNodes').getTrackingInfo(o?c('TrackingNodes').types.UNLIKE_LINK:c('TrackingNodes').types.LIKE_LINK),s=o?i._("\u300c\u3044\u3044\u306d\uff01\u300d\u3092\u53d6\u308a\u6d88\u3059"):i._("\u3044\u3044\u306d\uff01");return (c('React').createElement('span',null,c('React').createElement('a',{className:"_48-k"+(' '+"UFILikeLink")+(o?' '+"UFILinkBright":''),ref:function(t){return this.$UFILikeLink1=t;}.bind(this),'data-testid':p,href:this.props.href||'#',role:'button','aria-label':s,'aria-live':'polite','aria-pressed':o,rel:this.props.rel,ajaxify:this.props.ajaxify,onBlur:this.props.onBlur,onClick:this.onClick,onClickCapture:this.props.onClickCapture,onDragStart:this.props.onDragStart,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onKeyDown:function(t,u){this.props.onKeyDown&&this.props.onKeyDown(t,u);}.bind(this),'data-ft':r},q),this.renderLayers()));};n.propTypes={ajaxify:l.string,href:l.string,likeAction:l.bool,rel:l.string,forcelegacyrendering:l.bool,onClick:l.func,showLikeNuxForGroupMallAds:l.bool,likeNuxContent:l.string};n.defaultProps={forcelegacyrendering:false,showLikeNuxForGroupMallAds:false};f.exports=n;}),null);
__d('UFIShareNowMenuBootloader.react',['BootloadedComponent.react','JSResource','React','UFIShareLink.react'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j='ufi_share_link_placeholder',k='ufi_share_link_loaded';h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={openOnInit:false,focusOnInit:false,interacted:false},n;}l.prototype.render=function(){'use strict';var m=this.state,n=m.openOnInit,o=m.focusOnInit,p=m.interacted,q=this.props,r=q.endpoint,s=q.endpointData,t=q.onShow,u=q.onHide,v=c('React').createElement(c('UFIShareLink.react'),{href:'#','data-testid':j,onClick:function(){return this.setState({interacted:true,openOnInit:true});}.bind(this),onFocus:function(){return this.setState({interacted:true,focusOnInit:true});}.bind(this),onMouseOver:function(){return this.setState({openOnInit:false,focusOnInit:false,interacted:true});}.bind(this)});if(p)return (c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('UFIShareNowMenu.react').__setRef('UFIShareNowMenuBootloader.react'),bootloadPlaceholder:v,endpoint:r,endpointData:s,onShow:t,onHide:u,openOnInit:n,focusOnInit:o,testID:k}));return v;};f.exports=l;}),null);
__d('XUIEditButton.react',['cx','fbt','XUIAbstractGlyphButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m=i._("\u7de8\u96c6");n=m;}return (c('React').createElement(c('XUIAbstractGlyphButton.react'),babelHelpers['extends']({},this.props,{label:m,title:n,'data-hover':this.props.tooltip&&'tooltip','data-tooltip-alignh':this.props.tooltip&&'center','data-tooltip-content':this.props.tooltip,className:c('joinClasses')(this.props.className,"_5upq _5upr")})));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('MultiBootstrapDataSource',['DataSource'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('DataSource'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._bootstrapEndpoints=k.bootstrapEndpoints;}j.prototype.bootstrapWithoutToken=function(){'use strict';for(var k=0;k<this._bootstrapEndpoints.length;k++)this.fetch(this._bootstrapEndpoints[k].endpoint,this._bootstrapEndpoints[k].data||{},{bootstrap:true});};f.exports=j;}),null);
__d("PhotosUploadID",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1024,i={getNewID:function j(){return (h++).toString();}};f.exports=i;}),null);
__d('linkifyEntityRange',['Link.react','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=(j.entity||{}).url;if(!k)return c('React').createElement('span',null,i);return (c('React').createElement(c('Link.react'),{href:k,target:'_blank'},i));}f.exports=h;}),null);
__d('ReactComposerAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,UPLOAD_ATTACHMENT:null},'ReactComposerAttachmentActionType');}),null);
__d('ReactComposerMediaUploadActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},'ReactComposerMediaUploadActionType');}),null);
__d('ReactComposerScrapedAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SHARE_SELECTED:null},'ReactComposerScrapedAttachmentActionType');}),null);
__d('ReactComposerActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({COMPOSER_ENTRY:null,COMPOSER_CANCEL:null,INIT_CONFIG:null,POST_ERROR:null,POST_STARTED:null,POST_INTENDED:null,POST_SUCCEEDED:null,POST_FINALLY:null,PUBLISH_STARTED:null,PUBLISH_SUCCEEDED:null,COMPOSER_RESET:null,EXPAND_SPROUTS:null,FEATURE_INTENT:null,FEATURE_DONE:null},'ReactComposerActionTypes');}),null);
__d('ReactComposerLoggingQueue',['invariant','Bootloader','requireWeak'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=null;c('requireWeak')('ReactComposerLoggingStore',function(l){i=l;});var j=[],k={add:function l(m){if(m&&m.suppressWaterfallLogging)return;!(m&&m.composerID)?h(0):void 0;if(i&&i.isActivated(m.composerID))return;j.push(m);},initBootload:function l(m,n,o,p){c('Bootloader').loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],function(q,r,s,t){q.resetSessionID(m);r.registerComposer(n,o,p);s.registerComposer(n,p.targetType,p.ref,o);t.activate(m);},'ReactComposerLoggingQueue');},pop:function l(){return j.shift();},getLength:function l(){return j.length;}};f.exports=k;}),null);
__d('ReactComposerDispatcher',['ReactComposerLoggingQueue','Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.dispatch=function(k){'use strict';i.dispatch.call(this,k);c('ReactComposerLoggingQueue').add(k);};function j(){'use strict';h.apply(this,arguments);}f.exports=new j();}),null);
__d('ReactComposerStoreBase',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerEvents','EventEmitter','Map'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$ReactComposerStoreBase1=k;this.$ReactComposerStoreBase2=new (c('Map'))();this.$ReactComposerStoreBase3=c('ReactComposerDispatcher').register(function(m){switch(m.type){case c('ReactComposerActionTypes').COMPOSER_RESET:this.__cleanup(m);break;}l(m);}.bind(this));}j.prototype.getComposerData=function(k){'use strict';var l=this.$ReactComposerStoreBase2.get(k);if(!l){l=this.$ReactComposerStoreBase1();this.$ReactComposerStoreBase2.set(k,l);}return l;};j.prototype.clearComposerData=function(k){'use strict';this.$ReactComposerStoreBase2.set(k,this.$ReactComposerStoreBase1());};j.prototype.addChangeListener=function(k){'use strict';return this.addListener(c('ReactComposerEvents').CHANGE,k);};j.prototype.emitChange=function(k){'use strict';this.emit(c('ReactComposerEvents').CHANGE,{composerID:k});};j.prototype.getDispatchToken=function(){'use strict';return this.$ReactComposerStoreBase3;};j.prototype.validateAction=function(k,l){'use strict';l=[].concat(l);var m=l.map(function(n){if(k[n]===undefined)throw new Error('Action missing field: '+n);return k[n];});if(l.length===1)return m[0];return m;};j.prototype.__cleanup=function(k){'use strict';this.clearComposerData(k.composerID);this.emitChange(k.composerID);};f.exports=j;}),null);
__d('ReactComposerActionStore',['errorCode','ReactComposerActionTypes','ReactComposerEvents','ReactComposerStoreBase','Arbiter','AsyncResponse','Set'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(l,m){'use strict';l=l?l:function(){return null;};var n;j.constructor.call(this,l,function(o){if(!(n&&n.__shouldIgnoreAction(o)))switch(o.type){case c('ReactComposerActionTypes').POST_STARTED:n&&n.$ReactComposerActionStore2(o);break;case c('ReactComposerActionTypes').POST_INTENDED:n&&n.$ReactComposerActionStore3(o);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:n&&n.$ReactComposerActionStore4(o);break;case c('ReactComposerActionTypes').POST_ERROR:n&&n.$ReactComposerActionStore5(o);break;case c('ReactComposerActionTypes').POST_FINALLY:n&&n.$ReactComposerActionStore6(o);break;default:}m&&m(o);});n=this;this.$ReactComposerActionStore1=new (c('Set'))();}k.prototype.registerComposerID=function(l){'use strict';this.$ReactComposerActionStore1.add(l);};k.prototype.$ReactComposerActionStore2=function(l){'use strict';var m=this.validateAction(l,'composerID');this.__onPostStarted&&this.__onPostStarted(l);c('Arbiter').inform(c('ReactComposerEvents').POST_STARTED+m);};k.prototype.$ReactComposerActionStore3=function(l){'use strict';this.validateAction(l,['composerID','actorID','config','targetID']);if(!this.__canPost||this.__canPost(l))this.$ReactComposerActionStore2(l);};k.prototype.$ReactComposerActionStore4=function(l){'use strict';var m=this.validateAction(l,'composerID');this.__onPostSucceeded&&this.__onPostSucceeded(l);c('Arbiter').inform(c('ReactComposerEvents').POST_SUCCEEDED+m);};k.prototype.$ReactComposerActionStore5=function(l){'use strict';if(this.__onPostError)return this.__onPostError(l);if(l.response){var m=l.response.getError&&l.response.getError()==1455004;if(m)return;c('AsyncResponse').defaultErrorHandler(l.response);}};k.prototype.$ReactComposerActionStore6=function(l){'use strict';this.__onPostFinally&&this.__onPostFinally(l);};k.prototype.__shouldIgnoreAction=function(l){'use strict';var m=this.validateAction(l,'composerID');return !this.$ReactComposerActionStore1.has(m);};f.exports=k;}),null);
__d('ReactComposerFocusActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirror')({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null});}),null);
__d('ReactComposerInit',['invariant','Arbiter','ReactComposerEvents','ReactComposerIDGenerator','Map','React','ReactDOM'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={instances:new (c('Map'))(),changeProps:function j(k,l){var m=i._getCurrentInstance(k);m.props=l;i.resetComposer(k,true);},normalizeComposerID:function j(k){if(!k.contextConfig.composerID)k.contextConfig.composerID=c('ReactComposerIDGenerator').getID();return k.contextConfig.composerID;},init:function j(k,l,m,n){var o=i.normalizeComposerID(l),p={ComposerModule:k,props:l,container:m,asyncPreloader:n,hidden:false};this._render(p);this._preloadAsyncData(p);i.instances.set(o,p);c('Arbiter').inform(c('ReactComposerEvents').INSTANCE_MOUNTED+o);},_render:function j(k){var l=k.ComposerModule,m=k.props,n=k.container;c('ReactDOM').render(c('React').createElement(l,m),n);},_preloadAsyncData:function j(k){var l=k.props,m=k.asyncPreloader;if(m==null||l.config.audienceXHP)return;m.onLoaded(function(n){var o=n.audienceXHP;l.config=babelHelpers['extends']({},l.config,{audienceXHP:l.config.audienceXHP||o});this._render(k);}.bind(this));},_createNewComposer:function j(k,l){k.props.contextConfig.composerID=c('ReactComposerIDGenerator').getID();k.props.prefillConfig={};i.init(k.ComposerModule,k.props,l,k.asyncPreloader);},resetComposer:function j(k){var l=i._getCurrentInstance(k);i.unmountInstance(k);if(l.hidden){l.container.parentNode&&l.container.parentNode.removeChild(l.container);}else i._createNewComposer(l,l.container);c('Arbiter').inform(c('ReactComposerEvents').COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID});},hideAndReplaceComposer:function j(k){var l=i._getCurrentInstance(k),m=l.container.cloneNode(false);l.container.style.display='none';l.container.removeAttribute('id');l.container.parentNode&&l.container.parentNode.appendChild(m);l.hidden=true;i._createNewComposer(l,m);},isInstanceMounted:function j(k){return !!i.instances.get(k);},unmountInstance:function j(k){if(i.isInstanceMounted(k)){i._unmountReact(k);i.instances['delete'](k);}},_unmountReact:function j(k){var l=i._getCurrentInstance(k);c('ReactDOM').unmountComponentAtNode(l.container);return l;},_getCurrentInstance:function j(k){var l=i.instances.get(k);!l?h(0):void 0;return l;}};f.exports=i;}),null);
__d('ReactComposerSproutsDisplayState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({INLINE:null,EXPANDED:null},'ReactComposerSproutsDisplayState');}),null);
__d('ReactComposerStore',['ReactComposerActionStore','ReactComposerActionTypes','ReactComposerSproutsDisplayState','ReactComposerAttachmentActionType','ReactComposerScrapedAttachmentActionType','ReactComposerInit','Bootloader'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isActive:false,serverErrorResponse:null,posting:false,postSucceeded:false,publishing:false,ref:null,targetType:null,sproutsDisplayState:c('ReactComposerSproutsDisplayState').INLINE};},function(l){switch(l.type){case c('ReactComposerActionTypes').INIT_CONFIG:k&&k.$ReactComposerStore1(l);break;case c('ReactComposerActionTypes').PUBLISH_STARTED:k&&k.$ReactComposerStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerStore3(l);break;case c('ReactComposerActionTypes').EXPAND_SPROUTS:k&&k.$ReactComposerStore4(l);break;case c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT:case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerStore5(l);break;}});k=this;}j.prototype.getServerErrorResponse=function(k){'use strict';return this.getComposerData(k).serverErrorResponse;};j.prototype.getRef=function(k){'use strict';return this.getComposerData(k).ref;};j.prototype.getTargetType=function(k){'use strict';return this.getComposerData(k).targetType;};j.prototype.isPosting=function(k){'use strict';return this.getComposerData(k).posting;};j.prototype.hasPostSucceeded=function(k){'use strict';return this.getComposerData(k).postSucceeded;};j.prototype.isActive=function(k){'use strict';return this.getComposerData(k).isActive;};j.prototype.isPublishing=function(k){'use strict';return this.getComposerData(k).publishing;};j.prototype.getSproutsDisplayState=function(k){'use strict';return this.getComposerData(k).sproutsDisplayState;};j.prototype.isUploading=function(k){'use strict';return this.getComposerData(k).uploading;};j.prototype.__shouldIgnoreAction=function(k){'use strict';return false;};j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.posting=true;this.emitChange(l);};j.prototype.__onPostSucceeded=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.serverErrorResponse=null;m.posting=false;m.postSucceeded=true;m.publishing=false;this.emitChange(l);};j.prototype.__onPostError=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.serverErrorResponse=k.response;m.posting=false;m.postSucceeded=false;m.publishing=false;this.emitChange(l);};j.prototype.__onPostFinally=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.posting=false;m.publishing=false;this.emitChange(l);};j.prototype.$ReactComposerStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','loggingConfig','activateOnInit']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.ref=n.ref;p.composerVersion=n.composerVersion;p.targetType=n.targetType;if(o){this.$ReactComposerStore6(m);this.emitChange(m);}};j.prototype.$ReactComposerStore2=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.publishing=true;this.emitChange(l);};j.prototype.$ReactComposerStore5=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(k.composerID);m.uploading=k.uploading;this.emitChange(l);};j.prototype.$ReactComposerStore3=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;this.$ReactComposerStore6(l);this.emitChange(l);};j.prototype.$ReactComposerStore4=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.sproutsDisplayState=c('ReactComposerSproutsDisplayState').EXPANDED;this.emitChange(l);};j.prototype.$ReactComposerStore6=function(k){'use strict';var l=this.getComposerData(k);if(!l.isActive){l.isActive=true;c('Bootloader').loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(m,n,o,p){return (n.onBeforeUnload(m(o.handler,k,p.getNextURI())));},'ReactComposerStore');}};j.prototype.__cleanup=function(k){'use strict';setTimeout(c('ReactComposerInit').resetComposer.bind(null,k.composerID),0);};f.exports=new j();}),null);
__d('ReactComposerFocusActions',['ReactComposerFocusActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('ReactComposerStore');var h={subscribe:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').SUBSCRIBE,onFocusAcquiredCallback:k,onFocusLostCallback:l});},unsubscribe:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').UNSUBSCRIBE});},notifyFocusAcquired:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').FOCUS_ACQUIRED});},notifyFocusLost:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerFocusActionTypes').FOCUS_LOST});}};f.exports=h;}),null);
__d('ReactComposerLoggingActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingName','ReactComposerMediaUploadActionType'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={composerEntry:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').COMPOSER_ENTRY,uiElementName:k});},mediaUploadInputClicked:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:k});},mediaUploadInputDone:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:k});},mediaFileDropped:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_INTENT,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},mediaFileDropFinished:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_DONE,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_DROPPED});},mediaFilePasted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_INTENT,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},mediaFilePasteFinished:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').FEATURE_DONE,featureType:c('ReactComposerFeatureType').MEDIA,uiElementName:c('ReactComposerLoggingName').MEDIA_FILE_PASTED});},composerCancel:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerActionTypes').COMPOSER_CANCEL});}};f.exports=h;}),null);
__d('ReactComposerFocusHandleScrollAway',['Event','getActiveElement','throttle'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=-400,i=300,j={handler:function k(l,m){var n=c('Event').listen(window,'scroll',c('throttle')(function(){var o=l.getBoundingClientRect().bottom;if(o<h){m();c('getActiveElement')().blur();n.remove();}},i));}};f.exports=j;}),null);
__d('ReactComposerFocusInit',['invariant','DOM','DOMContainer.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={handler:function j(k,l,m,n,o){var p=c('DOM').create('div'),q=k.parentNode;c('ReactDOM').render(c('React').createElement(o,{composerID:l,actorID:m,gks:n,enableFocusBehavior:true},c('React').createElement(c('DOMContainer.react'),{display:'block'},k)),p);!q?h(0):void 0;q.appendChild(p);},preload:function j(){}};f.exports=i;}),null);
__d('ReactComposerFocusWrapperCore.react',['cssVar','cx','fbt','ix','ReactComposerEvents','Arbiter','CurrentUser','Event','Image.react','Keys','Link.react','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactComposerFocusActions','Run','SubscriptionsHandler','URI'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=parseInt("10px",10),n=c('React').createClass({displayName:'ReactComposerFocusWrapperCore',_composerID:'',_fixedHeight:0,_subscriptions:c('SubscriptionsHandler'),_firstFocus:true,_onLeaveHandle:null,mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{composerID:l.string.isRequired,onDismiss:l.func.isRequired,onFocus:l.func.isRequired,focused:l.bool.isRequired,topPostButton:l.bool,onFirstFocus:l.func,fixHeight:l.bool},getDefaultProps:function o(){return {focused:false,fixHeight:false};},componentWillMount:function o(){this._composerID=this.props.composerID;},componentWillReceiveProps:function o(p){if(this.props.fixHeight&&!this.props.focused&&p.focused){var q=c('ReactDOM').findDOMNode(this.refs.container);this._fixedHeight=q.offsetHeight+m;}},componentDidMount:function o(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscribeComposerEvents();this._onLeaveHandle=c('Run').onLeave(this._onDismiss);},componentDidUpdate:function o(p){if(!p.focused&&this.props.focused)try{var q=document.createEvent('HTMLEvents');if(q.initEvent){q.initEvent('resize',true,false);window.dispatchEvent(new (c('Event'))('resize'));}}catch(q){}},componentWillUnmount:function o(){this._subscriptions&&this._subscriptions.release();this._onDismiss();if(this._onLeaveHandle)this._onLeaveHandle.remove();},render:function o(){var p=this.props.fixHeight&&this.props.focused?{height:this._fixedHeight}:null,q=this.props.focused?this._renderDismissButton():null,r=this.props.focused?this._renderBugNub():null;return (c('React').createElement('div',{className:"_3u13"+(this.props.focused?' '+"_3u14":''),style:p,onKeyDown:this._onKeyDown},c('React').createElement('div',{className:"_3u15",onClick:this._onDismiss}),c('React').createElement('div',{className:"_3u16",ref:'container',onFocus:this._onFocus},this.props.children,q),r));},getComposerID:function o(){return this._composerID;},getComposer:function o(){return this.refs.container;},_renderDismissButton:function o(){return (c('React').createElement('div',{className:"_3u17"+(this.props.topPostButton?' '+"_nse":''),onClick:this._onDismiss},c('React').createElement(c('Image.react'),{alt:j._("\u9589\u3058\u308b"),src:k('/images/composer/exit.png')})));},_renderBugNub:function o(){if(!c('CurrentUser').isEmployee())return null;var p=new (c('URI'))('/ajax/bugs/report');return (c('React').createElement('div',{className:"_t95"},c('React').createElement(c('Link.react'),{href:'#',ajaxify:p,className:"_t97",rel:'dialog'})));},_subscribeComposerEvents:function o(){var p=c('Arbiter').subscribe(c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+this._composerID,function(){return this.props.onDismiss(true);}.bind(this)),q=c('Arbiter').subscribe(c('ReactComposerEvents').POST_SUCCEEDED+this._composerID,function(){return this.props.onDismiss(true);}.bind(this)),r=c('Arbiter').subscribe('ReactFeedComposerXBootloader/focuscomposer/'+this._composerID,function(){return this._onFocus();}.bind(this)),s=c('Arbiter').subscribe(c('ReactComposerEvents').COMPOSER_RESET+this._composerID,function(t,u){if(u&&u.newComposerID){this._composerID=u.newComposerID;this._subscribeComposerEvents();p.remove&&p.remove();q.remove&&q.remove();r.remove&&r.remove();s.remove&&s.remove();}}.bind(this));this._subscriptions.addSubscriptions(p,q,r,s);},_onFocus:function o(){if(this.props.focused)return;if(this._firstFocus){this.props.onFirstFocus&&this.props.onFirstFocus();this._firstFocus=false;}this.props.onFocus();c('ReactComposerFocusActions').notifyFocusAcquired(this.props.composerID);},_onKeyDown:function o(p){if(p.keyCode===c('Keys').ESC&&!p.isDefaultPrevented())this._onDismiss();},_onDismiss:function o(){this.props.onDismiss();c('ReactComposerFocusActions').notifyFocusLost(this.props.composerID);}});f.exports=n;}),null);
__d('ReactComposerFocusInline.react',['ReactComposerFocusHandleScrollAway','ReactComposerFocusWrapperCore.react','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={focused:false},this.$ReactComposerFocusInline2=function(){var q=c('ReactDOM').findDOMNode(this.refs.focus.getComposer());c('ReactComposerFocusHandleScrollAway').handler(q,this.$ReactComposerFocusInline1);this.setState({focused:true});}.bind(this),this.$ReactComposerFocusInline1=function(){this.setState({focused:false});}.bind(this),m;}k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerFocusInline1();};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerFocusWrapperCore.react'),{composerID:this.props.composerID,focused:this.state.focused&&this.props.enableFocusBehavior,onFocus:this.$ReactComposerFocusInline2,onDismiss:this.$ReactComposerFocusInline1,ref:'focus'},this.props.children);};k.propTypes={composerID:j.string.isRequired};f.exports=k;}),null);
__d('UFIReactionIconImpl.react',['cx','Image.react','React','UFIConfig','UFIReactionTypes','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m,n){'use strict';return (m.className!==this.props.className||m.reaction!==this.props.reaction||m.size!==this.props.size||m.grayscale!==this.props.grayscale);};l.prototype.renderImage=function(){'use strict';var m=c('UFIReactionTypes').reactions[this.props.reaction].name,n='/images/ufi/reactions/v6/svg/'+m+'.svg';if(this.props.hasStaticSVGDock){return (c('React').createElement(c('Image.react'),{style:{position:'absolute'},src:n}));}else return (c('React').createElement('i',{className:c('joinClasses')(c('UFIReactionTypes').reactions[this.props.reaction].class_name,"_2p78"+(this.props.size==='13'?' '+"_9-y":'')+(this.props.size==='16'?' '+"_9--":'')+(this.props.size==='48'?' '+"_9-_":'')+(this.props.size==='96'?' '+"_9_0":'')+(this.props.grayscale?' '+"_pxi":''))}));};l.prototype.render=function(){'use strict';return (c('React').createElement('span',{className:c('joinClasses')("_9zc"+(this.props.size==='13'?' '+"_2p79":'')+(this.props.size==='16'?' '+"_2p7a":'')+(this.props.size==='48'?' '+"_2p7b":'')+(this.props.size==='96'?' '+"_9-w":''),this.props.className,!!c('UFIConfig').showCustom?"_4xtk":'')},this.renderImage()));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={className:k.string,grayscale:k.bool,isSVGDock:k.bool,reaction:k.number.isRequired,size:k.oneOf(['13','16','48','96'])};l.defaultProps={className:null,grayscale:false,isSVGDock:false,size:'16'};f.exports=l;}),null);
__d('VideoFeedFastPreloadController',['Run','DOMQuery'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i={preload:function j(k){if(h<2){k=c('DOMQuery').scry(k,'video')[0];if(k instanceof b.HTMLVideoElement){if(!h)c('Run').onBeforeUnload(function(){return i.reset();});k.preload='auto';h+=1;}}},reset:function j(){h=0;}};i.reset();f.exports=i;}),null);
__d('PriorityJobQueue',['Promise','Map'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1;function i(j){this.$PriorityJobQueue2=new (c('Map'))();this.$PriorityJobQueue3=new (c('Map'))();this.$PriorityJobQueue4=false;this.$PriorityJobQueue5=new (c('Map'))();this.$PriorityJobQueue8=function(){var k=this.$PriorityJobQueue3.size,l=Date.now();if(k<this.$PriorityJobQueue1){var m=this.$PriorityJobQueue1-k,n=Array.from(this.$PriorityJobQueue2.values());n.sort(function(q,r){return r.job.getPriority(l-r.timeQueued)-q.job.getPriority(l-q.timeQueued);});var o=this.$PriorityJobQueue2.size;for(var p=0;p<Math.min(o,m);p++)this.$PriorityJobQueue9(n[p]);}this.$PriorityJobQueue4=false;}.bind(this);this.$PriorityJobQueue1=j||h;}i.prototype.$PriorityJobQueue6=function(j){this.$PriorityJobQueue3['delete'](j);this.$PriorityJobQueue7();};i.prototype.$PriorityJobQueue7=function(){if(!this.$PriorityJobQueue4){this.$PriorityJobQueue4=true;c('Promise').resolve().then(this.$PriorityJobQueue8).done();}};i.prototype.$PriorityJobQueue9=function(j){var k=j.job,l=k.getJobID();this.$PriorityJobQueue2['delete'](l);this.$PriorityJobQueue3.set(l,j);k.getPromise().then(function(){return this.$PriorityJobQueue6(l);}.bind(this)).done();var m=this.$PriorityJobQueue5.get(l);m&&m();this.$PriorityJobQueue5['delete'](l);k.start();};i.prototype.enqueue=function(j,k){var l={job:j,timeQueued:Date.now()},m=j.getJobID();this.$PriorityJobQueue2.set(m,l);if(k)this.$PriorityJobQueue5.set(m,k);this.$PriorityJobQueue7();return this;};i.get=function(){if(!i.$PriorityJobQueue10)i.$PriorityJobQueue10=new i(h);return i.$PriorityJobQueue10;};f.exports=i;}),null);
__d('VideoPlayerShakaBandwidthEstimator',['CacheStorage','requireWeak','Run','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0;c('requireWeak')('Shaka',function(l){h=l.util.EWMACacheBandwidthEstimator;});var i=null,j=false;function k(){'use strict';var l=new (c('CacheStorage'))('localstorage','_video_'),m=l.get('bandwidthEstimate');this.$VideoPlayerShakaBandwidthEstimator1={isMockObject:true,getBandwidth:function n(){return m;},getFastMovingBandwidth:function n(){return m;}};if(h){this.$VideoPlayerShakaBandwidthEstimator1=new h(c('VideoPlayerShakaExperiments').cacheDelay,c('VideoPlayerShakaExperiments').cacheBandwidth,c('VideoPlayerShakaExperiments').useStoredBandwidthEstimate?m:undefined);this.$VideoPlayerShakaBandwidthEstimator1.isMockObject=false;}c('Run').onUnload(function(){l.set('bandwidthEstimate',this.$VideoPlayerShakaBandwidthEstimator1.getBandwidth());}.bind(this));}k.prototype.getEstimator=function(){'use strict';return this.$VideoPlayerShakaBandwidthEstimator1;};k.getInstance=function(){'use strict';if(i===null||i.getEstimator().isMockObject&&h)i=new k();return i;};k.getEstimator=function(){'use strict';return k.getInstance().getEstimator();};k.isAutoplayBandwidthRestrained=function(l){'use strict';var m=k.getEstimator(),n=void 0;if(c('VideoPlayerShakaExperiments').blockAutoplayUseFastMovingAverage&&j){n=m.getFastMovingBandwidth();}else n=m.getBandwidth();var o=l?c('VideoPlayerShakaExperiments').liveBlockAutoplayBandwidthThreshold:c('VideoPlayerShakaExperiments').blockAutoplayBandwidthThreshold;if(n===null||n>o){j=false;}else j=true;return j;};f.exports=k;}),null);
__d('VideoDashPrefetchCache',['Promise','Deferred','Map','PriorityJobQueue','Run','URI','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaExperiments','XHRRequest','getCrossOriginTransport'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;function i(n,o){var p=new Error(n.errorMsg);p.name=n.errorType;p.type='preload';p.url=o;p.status=n.errorCode;return p;}function j(n){var o=new (c('URI'))(n.url),p=o.getDomain();return p.endsWith('fbcdn.net')&&!p.startsWith('interncache')&&!p.endsWith('ak.fbcdn.net');}function k(n,o,p){return {response:n.slice(o.start+0,o.end+1),responseTime:p};}function l(n,o,p){'use strict';this.$UrlRequestJob1=n;this.$UrlRequestJob2=o;this.$UrlRequestJob5=p;var q=new (c('XHRRequest'))(this.$UrlRequestJob2).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport'));this.$UrlRequestJob3=new (c('Promise'))(function(r,s){q.setErrorHandler(function(t){s(i(t,this.$UrlRequestJob2));}.bind(this));q.setResponseHandler(function(t){q.response=t;r(q);});q.setAbortHandler(function(){s(this.$UrlRequestJob3,new Error('Request promise aborted'));}.bind(this));}.bind(this));this.$UrlRequestJob4=q;}l.prototype.getUrl=function(){'use strict';return this.$UrlRequestJob2;};l.prototype.getPromise=function(){'use strict';return this.$UrlRequestJob3;};l.prototype.start=function(){'use strict';this.$UrlRequestJob4.send();};l.prototype.abort=function(){'use strict';};l.prototype.getPriority=function(n){'use strict';return 1/Math.min(this.$UrlRequestJob5,1)/Math.min(n,1);};l.prototype.getJobID=function(){'use strict';return this.$UrlRequestJob1;};function m(){'use strict';this.$VideoDashPrefetchCache1=new (c('Map'))();this.$VideoDashPrefetchCache2=new (c('Map'))();this.$VideoDashPrefetchCache3=[];this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=0;this.$VideoDashPrefetchCache6=c('VideoPlayerShakaExperiments').maxPrefetchVideosNum;this.$VideoDashPrefetchCache7=c('VideoPlayerShakaExperiments').consolidateFragmentedPrefetchRequest;}m.prototype.$VideoDashPrefetchCache8=function(n){var o=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],p=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';var q=n;if(Object.keys(o))q=new (c('URI'))(n).addQueryData(o);var r=new (c('XHRRequest'))(q).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport')),s=new (c('Promise'))(function(t,u){r.setErrorHandler(function(v){this.$VideoDashPrefetchCache9(r);u(i(v,q));}.bind(this));r.setResponseHandler(function(v){r.response=v;this.$VideoDashPrefetchCache9(r);t(r);}.bind(this));r.setAbortHandler(function(){u(s,new Error('Request promise aborted'));});}.bind(this));this.$VideoDashPrefetchCache10(n,s,p);this.$VideoDashPrefetchCache11(n,s);this.$VideoDashPrefetchCache3.push(r);r.send();return s;};m.prototype.$VideoDashPrefetchCache10=function(n,o){var p=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';this.$VideoDashPrefetchCache12(n);if(p>0)this.$VideoDashPrefetchCache2.set(n,setTimeout(function(){return this.$VideoDashPrefetchCache12(n);}.bind(this),p));this.$VideoDashPrefetchCache11(n,o);};m.prototype.queueRequestFromMouseMovement=function(n,o){var p=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],q=arguments[3],r=arguments.length<=4||arguments[4]===undefined?0:arguments[4],s=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],t=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6];'use strict';var u=o,v=c('PriorityJobQueue').get();if(this.has(o))return;if(Object.keys(p))u=new (c('URI'))(o).addQueryData(p);var w=new l(n,u,q);w.getPromise().then(t).done();v.enqueue(w,function(){this.$VideoDashPrefetchCache10(o,w.getPromise(),r);s();}.bind(this));};m.prototype.$VideoDashPrefetchCache12=function(n){'use strict';this.getAndDelete(n);if(this.$VideoDashPrefetchCache2.has(n)){clearTimeout(this.$VideoDashPrefetchCache2.get(n));this.$VideoDashPrefetchCache2['delete'](n);}};m.prototype.$VideoDashPrefetchCache13=function(n){'use strict';var o=[];for(var p=0;p<n.length;p++){var q=m.createQueryStringURL(n[p]);if(!this.has(q))o.push(this.$VideoDashPrefetchCache8(q));}return o;};m.prototype.$VideoDashPrefetchCache14=function(n){'use strict';var o=m.getConsolidatedURL(n);if(o==null)return this.$VideoDashPrefetchCache13(n);var p=new (c('XHRRequest'))(o).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport')),q=Date.now(),r=[];for(var s=0;s<n.length;s++){var t=m.createQueryStringURL(n[s]),u=new (c('Deferred'))();if(!this.has(t))this.$VideoDashPrefetchCache11(t,u.getPromise());r.push(u);}p.setErrorHandler(function(v){this.$VideoDashPrefetchCache9(p);for(var w=0;w<r.length;w++)r[w].reject(i(v,o));}.bind(this));p.setResponseHandler(function(v){var w=Date.now()-q;for(var x=0;x<n.length;x++){var y=r[x],z=n[x];y.resolve(k(v,z,w));}this.$VideoDashPrefetchCache9(p);}.bind(this));p.setAbortHandler(function(){for(var v=0;v<n.length;v++){var w=r[v];w.reject(new Error('Request aborted.'));}});this.$VideoDashPrefetchCache3.push(p);p.send();return r.map(function(v){return v.getPromise();});};m.prototype.$VideoDashPrefetchCache15=function(n){'use strict';this.$VideoDashPrefetchCache5++;var o=this.$VideoDashPrefetchCache7?this.$VideoDashPrefetchCache14(n.video):this.$VideoDashPrefetchCache13(n.video),p=this.$VideoDashPrefetchCache7?this.$VideoDashPrefetchCache14(n.audio):this.$VideoDashPrefetchCache13(n.audio),q=this.$VideoDashPrefetchCache13(n.manifest),r=o.concat(p,q);c('Promise').all(r).then(function(){return this.$VideoDashPrefetchCache16();}.bind(this))['catch'](function(){return this.$VideoDashPrefetchCache16();}.bind(this));};m.prototype.$VideoDashPrefetchCache11=function(n,o){'use strict';if(this.$VideoDashPrefetchCache1.values().next().done)c('Run').onLeave(function(){for(var p=0;p<this.$VideoDashPrefetchCache3.length;p++)this.$VideoDashPrefetchCache3[p].abort();this.$VideoDashPrefetchCache3=[];this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=0;this.$VideoDashPrefetchCache1.clear();}.bind(this));this.$VideoDashPrefetchCache1.set(n,o);};m.prototype.$VideoDashPrefetchCache9=function(n){'use strict';var o=this.$VideoDashPrefetchCache3.indexOf(n);if(o>-1)this.$VideoDashPrefetchCache3.splice(o,1);};m.prototype.$VideoDashPrefetchCache16=function(){'use strict';this.$VideoDashPrefetchCache5--;var n=this.$VideoDashPrefetchCache4.shift();if(n)this.$VideoDashPrefetchCache15(n);};m.prototype.has=function(n){'use strict';return this.$VideoDashPrefetchCache1.has(n);};m.prototype.getAndDelete=function(n){'use strict';var o=this.$VideoDashPrefetchCache1.get(n);this.$VideoDashPrefetchCache1['delete'](n);return o;};m.prototype.queueRequestBatch=function(n){'use strict';if(this.$VideoDashPrefetchCache6===0||this.$VideoDashPrefetchCache5<this.$VideoDashPrefetchCache6){this.$VideoDashPrefetchCache15(n);}else this.$VideoDashPrefetchCache4.push(n);};m.getInstance=function(){'use strict';if(h===null)h=new m();return h;};m.createQueryStringURL=function(n){'use strict';var o=n.url,p=n.start,q=n.end;if(p!==null&&p!==undefined&&q!==null&&q!==undefined)o=new (c('URI'))(o).addQueryData({bytestart:p,byteend:q});return o.toString();};m.getConsolidatedURL=function(n){'use strict';var o='',p=Infinity,q=0;for(var r=0;r<n.length;r++){var s=n[r],t=s.url,u=s.start,v=s.end;if(t==null||u==null||v==null)return null;if(o===''){o=t;}else if(o!==t)return null;p=Math.min(p,u);q=Math.max(q,v);}return m.createQueryStringURL({url:o,start:p,end:q});};m.loadVideo=function(n){'use strict';if(c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained())return;var o=m.getInstance();if(!n.manifest)n.manifest=[];o.queueRequestBatch({manifest:n.manifest.filter(j),video:n.video.filter(j),audio:n.audio.filter(j)});};m.getCacheValue=function(n){'use strict';return m.getInstance().getAndDelete(n);};f.exports=m;}),null);
__d('StreamingReactionsTrayEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='streamingReactionsTray/AddReactionAnimate',i='streamingReactionsTray/HideChannelViewDetails',j='streamingReactionsTray/ShowChannelViewDetails',k='streamingReactionsTray/UpdateSurface',l='streamingReactionsTray/ResizeChannelViewWindow',m='streamingReactionsTray/ReactionStateChange',n='streamingReactionsTray/FireworksAnimating',o={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n};f.exports=o;}),null);
__d('onViewportChanged',['EventListener','emptyFunction','getViewportDimensions','requestAnimationFrame'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=[],i=false,j=null,k=void 0,l=void 0;function m(){var x=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:x.height,left:0,right:x.width};}function n(x,y){var z={transform:y||c('emptyFunction').thatReturnsArgument,callback:x,needsUpdate:true};h.push(z);u();p();return {remove:o.bind(null,z),scheduleCheck:s.bind(null,z)};}function o(x){var y=h.indexOf(x);if(y!==-1){h.splice(y,1);if(h.length===0){q();j=null;}}}function p(){if(!l){l=c('EventListener').listen(window,'scroll',t);k=c('EventListener').listen(window,'resize',r);}}function q(){if(l){l.remove();k.remove();l=k=null;}}function r(){j=null;t();}function s(x){x.needsUpdate=true;u();}function t(){h.map(function(x){return x.needsUpdate=true;});u();}function u(){if(!i){i=true;c('requestAnimationFrame')(function(){i=false;w();});}}function v(x){if(x.needsUpdate){x.needsUpdate=false;return true;}return false;}function w(){if(!j)j=m();var x=h.filter(v),y=x.map(function(z){return z.transform.call(null,j);});x.forEach(function(z,aa){return z.callback.call(null,y[aa]);});}f.exports=n;}),null);
__d('onRectIsWithinViewport',['onViewportChanged'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k){return !(j.bottom<k.top||j.top>k.bottom||j.right<k.left||j.left>k.right);}function i(j,k){var l=void 0;function m(o){var p=j();return !!p&&h(p,o);}function n(o){if(l!==o){l=o;k(o);}}return c('onViewportChanged')(n,m);}f.exports=i;}),null);
__d('OnVisible.react',['React','ReactDOM','getElementRect','onRectIsWithinViewport'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'OnVisible',propTypes:{onVisible:h.func,onHidden:h.func,buffer:h.number,considerZeroedElemsAsHidden:h.bool},componentDidMount:function j(){this._createListener();},componentDidUpdate:function j(){this._createListener();},componentWillUnmount:function j(){this._removeListener();},reset:function j(){this._removeListener();this._createListener();},check:function j(){if(this._listener)this._listener.scheduleCheck();},_measureElementRect:function j(){if(!this.isMounted())return null;var k=this.props.buffer||0,l=c('ReactDOM').findDOMNode(this),m=c('getElementRect')(l);if(this.props.considerZeroedElemsAsHidden&&m.left===0&&m.right===0&&m.top===0&&m.bottom===0)return null;m.left-=k;m.right+=k;m.top-=k;m.bottom+=k;return m;},_createListener:function j(){var k=c('ReactDOM').findDOMNode(this);if(this._listener&&k!==this._element)this._removeListener();if(!this._listener){this._element=k;this._listener=c('onRectIsWithinViewport')(this._measureElementRect,function(l){var m=l?this.props.onVisible:this.props.onHidden;m&&m();}.bind(this));}},_removeListener:function j(){if(this._listener){this._listener.remove();this._listener=null;}},render:function j(){return c('React').Children.only(this.props.children);}});f.exports=i;}),null);
__d('BaseGraphQLSubscription',['Banzai','BanzaiLogger','ChannelClientID','CurrentUser','CurrentLocale','RTISubscriptionManager'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=10000,i={subscribe:function j(k,l){var m={transformContext:JSON.stringify(this._getTransformContext(k))},n=this._getQueryParameters(k);this._logEvent('client_subscribe',n);return c('RTISubscriptionManager').subscribe(this._getTopic(k),function(o){this._logEvent('receivepayload',n);l(JSON.parse(o.payload));}.bind(this),m,null,function(){this._logEvent('client_unsubscribe',n);}.bind(this));},_getTransformContext:function j(k){var l=155160167952447;return {viewerID:c('CurrentUser').getID(),appID:l,locale:c('CurrentLocale').get(),queryID:this._getQueryID(),serializedQueryParameters:JSON.stringify(this._getQueryParameters(k))};},_logEvent:function j(k,l){if(c('Banzai').isEnabled('gqls_web_logging')){var m=c('CurrentUser').isEmployee()?1:h;if(Math.random()*m<1)c('BanzaiLogger').log('GraphQLSubscriptionsLoggerConfig',{clienttime:Date.now()/1000,client_sample_weight:m,event:k,mechanism:'skywalker',query_id:parseInt(this._getQueryID(),10),query_params:l,session_id:c('ChannelClientID').getID(),subscription_call:this._getSubscriptionCallName()});}}};f.exports=i;}),null);
__d('ContentTranslationStrings',['fbt','TranslationRating'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={SEE_TRANSLATION:h._("\u7ffb\u8a33\u3092\u898b\u308b"),SEE_TRANSLATION_TIP:h._("\u30b3\u30e1\u30f3\u30c8\u3092\u7ffb\u8a33"),NO_TRANSLATION_AVAILABLE:h._("\u7ffb\u8a33\u304c\u3042\u308a\u307e\u305b\u3093"),AUTOMATICALLY_TRANSLATED:h._("\u81ea\u52d5\u7ffb\u8a33"),HIDE_ORIGINAL:h._("\u5143\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u975e\u8868\u793a"),SEE_ORIGINAL:h._("\u5143\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u8868\u793a"),SEE_ORIGINAL_LINK:h._("\u5143\u306e\u30c6\u30ad\u30b9\u30c8"),UNDO:h._("\u5143\u306b\u623b\u3059"),CANCEL:h._("\u30ad\u30e3\u30f3\u30bb\u30eb"),SUBMIT:h._("\u9001\u4fe1"),DONE:h._("\u7d42\u4e86"),CLOSE:h._("\u9589\u3058\u308b"),SEARCH:h._("\u691c\u7d22"),ENTER_TRANSLATION:h._("\u7ffb\u8a33\u3092\u3053\u3053\u306b\u5165\u529b"),EDIT_TRANSLATION_THANKS:h._("\u3054\u5354\u529b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\u3044\u305f\u3060\u3044\u305f\u60c5\u5831\u306fFacebook\u306e\u7ffb\u8a33\u306e\u54c1\u8cea\u5411\u4e0a\u306e\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"),EDIT_TRANSLATION_DIALOG_TITLE_NORMAL:h._("\u7ffb\u8a33\u3092\u7de8\u96c6"),EDIT_TRANSLATION_DIALOG_TITLE_ERROR:h._("\u63d0\u51fa\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),EDIT_TRANSLATION_ERROR:h._("\u63d0\u51fa\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3054\u5354\u529b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002"),EDIT_TRANSLATION_MENU:h._("\u3088\u308a\u9069\u5207\u306a\u8a33\u304c\u3042\u308a\u307e\u3059"),RATE_TRANSLATION:h._("\u3053\u306e\u7ffb\u8a33\u306e\u8a55\u4fa1"),I_DONT_KNOW:h._("\u5206\u304b\u3089\u306a\u3044"),NO_MATCHING_LANGUAGES:h._("\u4e00\u81f4\u3059\u308b\u8a00\u8a9e\u304c\u3042\u308a\u307e\u305b\u3093"),LANGUAGE_SETTINGS:h._("\u8a00\u8a9e\u8a2d\u5b9a"),CLICK_TO_RATE:h._("\u661f\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u8a55\u4fa1"),TAP_TO_RATE:h._("\u661f\u30de\u30fc\u30af\u3092\u30bf\u30c3\u30d7\u3057\u3066\u8a55\u4fa1"),ORIGINAL_TEXT:h._("\u539f\u6587:"),YOUR_TRANSLATION:h._("\u3042\u306a\u305f\u306e\u7ffb\u8a33:"),SETTINGS_SAVED:h._("\u8a00\u8a9e\u8a2d\u5b9a\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002"),REPORT_LANGUAGE_THANKS:h._("\u3054\u5831\u544a\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\u3044\u305f\u3060\u3044\u305f\u60c5\u5831\u306fFacebook\u306e\u6539\u5584\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"),LANGUAGE_SETTINGS_REMINDER:h._("\u3053\u308c\u306f\u8a00\u8a9e\u8a2d\u5b9a\u3067\u3044\u3064\u3067\u3082\u5909\u66f4\u3067\u304d\u307e\u3059\u3002"),CROWDSOURCING_TARGET_DIALECT_DIALOG:h._("\u8a2d\u5b9a"),TRANSLATE_ALL_TEXT:h._("\u3059\u3079\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u7ffb\u8a33"),NUM_TRANSLATIONS_TEXT:h._("\u7ffb\u8a33"),getTranslatedFromTo:function j(k,l){return h._("{source language}\u304b\u3089{target language}\u306b\u7ffb\u8a33",[h.param('source language',k),h.param('target language',l)]);},getTranslatedFrom:function j(k){return h._("{source language}\u304b\u3089\u7ffb\u8a33",[h.param('source language',k)]);},getReportLanguageDialogBody:function j(k){return h._("\u3053\u306e\u6295\u7a3f\u306f\u672c\u5f53\u306b{language}\u306e\u6295\u7a3f\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u304b\uff1f",[h.param('language',k)]);},getReportLanguage:function j(k){return h._("{language}\u306e\u6295\u7a3f\u3067\u306f\u306a\u304b\u3063\u305f",[h.param('language',k)]);},getReportLanguageSelector:function j(k){return h._("\u3053\u306e\u6295\u7a3f\u306e\u8a00\u8a9e: {language selector}",[h.param('language selector',k)]);},getNeverTranslate:function j(k){return h._("{language}\u304b\u3089\u7ffb\u8a33\u3057\u306a\u3044",[h.param('language',k)]);},getNeverTranslateDialog:function j(k){return h._("\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f{language}\u306e\u6295\u7a3f\u306f\u7ffb\u8a33\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002",[h.param('language',k)]);},getDisableAutoTranslate:function j(k){return h._("{dialect}\u306e\u81ea\u52d5\u7ffb\u8a33\u3092\u30aa\u30d5\u306b\u3059\u308b",[h.param('dialect',k)]);},getDisableAutoTranslateDialog:function j(k){return h._("\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f{dialect}\u306e\u6295\u7a3f\u306f\u81ea\u52d5\u7684\u306b\u7ffb\u8a33\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002",[h.param('dialect',k)]);},getUserFeedbackTitleForScore:function j(k){switch(k){case c('TranslationRating').VERY_BAD:return h._("\u975e\u5e38\u306b\u5206\u304b\u308a\u306b\u304f\u3044");case c('TranslationRating').BAD:return h._("\u5206\u304b\u308a\u306b\u304f\u3044");case c('TranslationRating').OK:return h._("\u307e\u3042\u307e\u3042\u7406\u89e3\u3067\u304d\u308b");case c('TranslationRating').GOOD:return h._("\u304d\u3061\u3093\u3068\u7406\u89e3\u3067\u304d\u308b");case c('TranslationRating').VERY_GOOD:return h._("\u975e\u5e38\u306b\u826f\u3044");default:return null;}},getUserFeedbackDescriptionForScore:function j(k){switch(k){case c('TranslationRating').VERY_BAD:return h._("\u307e\u3063\u305f\u304f\u7406\u89e3\u3067\u304d\u306a\u3044\u3002");case c('TranslationRating').BAD:return h._("\u307b\u3068\u3093\u3069\u7406\u89e3\u3067\u304d\u306a\u3044\u3002");case c('TranslationRating').OK:return h._("\u3042\u307e\u308a\u7406\u89e3\u3067\u304d\u306a\u3044\u3002");case c('TranslationRating').GOOD:return h._("\u307b\u307c\u7406\u89e3\u3067\u304d\u308b\u3002");case c('TranslationRating').VERY_GOOD:return h._("\u307e\u3063\u305f\u304f\u554f\u984c\u306a\u304f\u7406\u89e3\u3067\u304d\u308b\u3002");default:return null;}}};f.exports=i;}),null);
__d('ReactTransitionEvents',['ExecutionEnvironment','getVendorPrefixedEventName'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=[];function i(){var m=c('getVendorPrefixedEventName')('animationend'),n=c('getVendorPrefixedEventName')('transitionend');if(m)h.push(m);if(n)h.push(n);}if(c('ExecutionEnvironment').canUseDOM)i();function j(m,n,o){m.addEventListener(n,o,false);}function k(m,n,o){m.removeEventListener(n,o,false);}var l={addEndEventListener:function m(n,o){if(h.length===0){window.setTimeout(o,0);return;}h.forEach(function(p){j(n,p,o);});},removeEndEventListener:function m(n,o){if(h.length===0)return;h.forEach(function(p){k(n,p,o);});}};f.exports=l;}),null);
__d('WebGraphQLSubscriptionHelper',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={getExports:function h(i){var j=i.docID,k=i.queryID;return {getQueryID:function l(){return k;}};}};}),null);
__d("XReactComposerLoggingODSController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/logging\/ods\/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:true,enumType:1},event:{type:"String",required:true}});}),null);